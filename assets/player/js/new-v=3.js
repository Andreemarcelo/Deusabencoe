var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(f){var b=0;return function(){return b<f.length?{done:!1,value:f[b++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.makeIterator=function(f){var b="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];return b?b.call(f):$jscomp.arrayIterator(f)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,b,m){if(f==Array.prototype||f==Object.prototype)return f;f[b]=m.value;return f};
$jscomp.getGlobal=function(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<f.length;++b){var m=f[b];if(m&&m.Math==Math)return m}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(f,b){var m=$jscomp.propertyToPolyfillSymbol[b];if(null==m)return f[b];m=f[m];return void 0!==m?m:f[b]};$jscomp.polyfill=function(f,b,m,r){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(f,b,m,r):$jscomp.polyfillUnisolated(f,b,m,r))};
$jscomp.polyfillUnisolated=function(f,b,m,r){m=$jscomp.global;f=f.split(".");for(r=0;r<f.length-1;r++){var v=f[r];if(!(v in m))return;m=m[v]}f=f[f.length-1];r=m[f];b=b(r);b!=r&&null!=b&&$jscomp.defineProperty(m,f,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(f,b,m,r){var v=f.split(".");f=1===v.length;r=v[0];r=!f&&r in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var C=0;C<v.length-1;C++){var y=v[C];if(!(y in r))return;r=r[y]}v=v[v.length-1];m=$jscomp.IS_SYMBOL_NATIVE&&"es6"===m?r[v]:null;b=b(m);null!=b&&(f?$jscomp.defineProperty($jscomp.polyfills,v,{configurable:!0,writable:!0,value:b}):b!==m&&(void 0===$jscomp.propertyToPolyfillSymbol[v]&&($jscomp.propertyToPolyfillSymbol[v]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(v):
$jscomp.POLYFILL_PREFIX+v),$jscomp.defineProperty(r,$jscomp.propertyToPolyfillSymbol[v],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var f={a:!0},b={};try{return b.__proto__=f,b.a}catch(m){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(f,b){f.__proto__=b;if(f.__proto__!==b)throw new TypeError(f+" is not extensible");return f}:null;
$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(f){if(!(f instanceof Object))throw new TypeError("Iterator result "+f+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(f){this.yieldResult=f};
$jscomp.generator.Context.prototype.throw_=function(f){this.abruptCompletion_={exception:f,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype["return"]=function(f){this.abruptCompletion_={"return":f};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(f){this.abruptCompletion_={jumpTo:f};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(f,b){this.nextAddress=b;return{value:f}};
$jscomp.generator.Context.prototype.yieldAll=function(f,b){var m=$jscomp.makeIterator(f),r=m.next();$jscomp.generator.ensureIteratorResultIsObject_(r);if(r.done)this.yieldResult=r.value,this.nextAddress=b;else return this.yieldAllIterator_=m,this.yield(r.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(f){this.nextAddress=f};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(f,b){this.catchAddress_=f;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(f){this.catchAddress_=0;this.finallyAddress_=f||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(f,b){this.nextAddress=f;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(f){this.catchAddress_=f||0;f=this.abruptCompletion_.exception;this.abruptCompletion_=null;return f};$jscomp.generator.Context.prototype.enterFinallyBlock=function(f,b,m){m?this.finallyContexts_[m]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=f||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(f,b){var m=this.finallyContexts_.splice(b||0)[0];if(m=this.abruptCompletion_=this.abruptCompletion_||m){if(m.isException)return this.jumpToErrorHandler_();void 0!=m.jumpTo&&this.finallyAddress_<m.jumpTo?(this.nextAddress=m.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=f};$jscomp.generator.Context.prototype.forIn=function(f){return new $jscomp.generator.Context.PropertyIterator(f)};
$jscomp.generator.Context.PropertyIterator=function(f){this.object_=f;this.properties_=[];for(var b in f)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var f=this.properties_.pop();if(f in this.object_)return f}return null};$jscomp.generator.Engine_=function(f){this.context_=new $jscomp.generator.Context;this.program_=f};
$jscomp.generator.Engine_.prototype.next_=function(f){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,f,this.context_.next_);this.context_.next_(f);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(f){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(m){return{value:m,done:!0}},f,this.context_["return"]);this.context_["return"](f);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(f){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],f,this.context_.next_);this.context_.throw_(f);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(f,b,m){try{var r=f.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(r);if(!r.done)return this.context_.stop_(),r;var v=r.value}catch(C){return this.context_.yieldAllIterator_=null,this.context_.throw_(C),this.nextStep_()}this.context_.yieldAllIterator_=null;m.call(this.context_,v);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var f=this.program_(this.context_);if(f)return this.context_.stop_(),{value:f.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){f=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(f.isException)throw f.exception;return{value:f["return"],done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(f){this.next=function(b){return f.next_(b)};this["throw"]=function(b){return f.throw_(b)};this["return"]=function(b){return f.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(f,b){var m=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&f.prototype&&$jscomp.setPrototypeOf(m,f.prototype);return m};
$jscomp.asyncExecutePromiseGenerator=function(f){function b(r){return f.next(r)}function m(r){return f["throw"](r)}return new Promise(function(r,v){function C(y){y.done?r(y.value):Promise.resolve(y.value).then(b,m).then(C,v)}C(f.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(f){return $jscomp.asyncExecutePromiseGenerator(f())};$jscomp.asyncExecutePromiseGeneratorProgram=function(f){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(f)))};
var mvpjq=jQuery;
(function(f){var b=function(){};b.test=document.createElement("div");b.isEmpty=function(m){return 0==m.replace(/^\s+|\s+$/g,"").length};b.strip=function(m){return m.replace(/^\s+|\s+$/g,"")};b.isNumber=function(m){return!isNaN(parseFloat(m))&&isFinite(m)};b.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent)};b.isIE=function(){return-1!=b.getInternetExplorerVersion()?!0:!1};b.isChrome=function(){return!!f.chrome&&(!!f.chrome.webstore||!!f.chrome.runtime)};
b.isSafari=function(){return navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")};b.hasLocalStorage=function(){try{return"localStorage"in f&&null!==f.localStorage}catch(m){return!1}};b.getInternetExplorerVersion=function(){var m=-1;if("Microsoft Internet Explorer"==navigator.appName){var r=navigator.userAgent,v=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=v.exec(r)&&(m=parseFloat(RegExp.$1))}else"Netscape"==
navigator.appName&&(r=navigator.userAgent,v=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=v.exec(r)&&(m=parseFloat(RegExp.$1)));return m};b.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};b.isiPhoneIpod=function(){var m=navigator.userAgent;return-1<m.indexOf("iPhone")||-1<m.indexOf("iPod")};b.isAndroid=function(){return-1<navigator.userAgent.indexOf("Android")};b.hasHistory=function(){return!(!f.history||!history.pushState)};b.hasDownloadSupport=function(){return"download"in
document.createElement("a")};b.b64DecodeUnicode=function(m){return decodeURIComponent(atob(m).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""))};b.volumeCanBeSet=function(){var m=document.createElement("audio");if(!m)return!1;m.volume=0;return 0==m.volume?!0:!1};b.supportsWebGL=function(){try{return!!f.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(m){return!1}};b.canPlayMp4=function(){var m=document.createElement("video");
return!(!m.canPlayType||!m.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))};b.canPlayMp3=function(){var m=document.createElement("audio");return!(!m.canPlayType||!m.canPlayType("audio/mpeg;").replace(/no/,""))};b.canPlayWav=function(){var m=document.createElement("audio");return!(!m.canPlayType||!m.canPlayType("audio/wav;").replace(/no/,""))};b.relativePath=function(m){return/^(?:[a-z]+:)?\/\//i.test(m)};b.qualifyURL=function(m){var r=document.createElement("a");r.href=
m;return r.href};b.hasFullscreen=function(){return b.test.requestFullscreen||b.test.mozRequestFullScreen||b.test.msRequestFullscreen||b.test.oRequestFullscreen||b.test.webkitRequestFullScreen};b.selectText=function(m){var r=document;if(r.body.createTextRange)r=r.body.createTextRange(),r.moveToElementText(m),r.select();else if(f.getSelection){var v=f.getSelection();r=r.createRange();r.selectNodeContents(m);v.removeAllRanges();v.addRange(r)}};b.randomiseArray=function(m){var r=[],v=[],C;for(C=0;C<m;C++)r[C]=
C;for(C=0;C<m;C++){var y=Math.round(Math.random()*(r.length-1));v[C]=r[y];r.splice(y,1)}return v};b.shuffleArray=function(m){var r;for(r=m.length-1;0<r;r--){var v=Math.floor(Math.random()*(r+1));var C=m[r];m[r]=m[v];m[v]=C}return m};b.sortArray=function(m,r){var v,C=m.length,y=[];for(v=0;v<C;v++)y[v]=m[r[v]];return y};b.arrayContainsAnotherArray=function(m,r){var v,C=m.length;for(v=0;v<C;v++)if(-1<r.indexOf(m[v]))return!0;return!1};b.regroupArray=function(m){return m.reduce(function(r,v){var C=v.value,
y=$jscomp.makeIterator(v.key.split("-"));y.next();var F=y.next().value,J=y.next().value;r[F]=r[F]||[];C.forEach(function(D,ha){return(r[F][ha]=r[F][ha]||{})[J]=D});return r},[])};b.keysrt=function(m,r,v){var C=1;v&&(C=-1);return m.sort(function(y,F){var J=y[r],D=F[r];return C*(J<D?-1:J>D?1:0)})};b.formatTime=function(m){m=parseInt(m,10);var r=Math.floor(m/3600),v=Math.floor((m-3600*r)/60);m=m-3600*r-60*v;if(0<r)return 10>r&&(r="0"+r),10>v&&(v="0"+v),10>m&&(m="0"+m),r+":"+v+":"+m;10>v&&(v="0"+v);10>
m&&(m="0"+m);return v+":"+m};b.toSeconds=function(m){m=m.split(/[\.:,]+/);return Number(3600*+m[0]+60*+m[1]+ +m[2])};b.getViewportSize=function(m){return m?{w:f.innerWidth,h:f.innerHeight}:{w:document.documentElement.clientWidth||f.innerWidth,h:document.documentElement.clientHeight||f.innerHeight}};b.isScrolledIntoView=function(m){m=m.getBoundingClientRect();var r=m.bottom;return 0<=m.top+m.height/2&&r-m.height/2<=f.innerHeight};b.getElementOffsetTop=function(m){m=m.getBoundingClientRect();var r=
document.body,v=document.documentElement;return Math.round(m.bottom-100+(f.pageYOffset||v.scrollTop||r.scrollTop)-(v.clientTop||r.clientTop||0))};b.getScrollTop=function(m){m=document.documentElement;return(f.pageYOffset||m.scrollTop)-(m.clientTop||0)};b.rgbToHex=function(m){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(m)?m:(m=m.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===m.length?"#"+("0"+parseInt(m[1],10).toString(16)).slice(-2)+("0"+parseInt(m[2],10).toString(16)).slice(-2)+
("0"+parseInt(m[3],10).toString(16)).slice(-2):""};b.getUrlParameter=function(m){var r={};f.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(v,C,y){r[C]=y});return m?r[m]:r};b.checkCssExist=function(m){for(var r=document.styleSheets,v=0,C=r.length;v<C;v++)if(r[v].href==m)return;r=document.createElement("link");r.rel="stylesheet";r.href=m;document.getElementsByTagName("head")[0].appendChild(r)};f.MVPUtils=b})(window);
(function(f,b){f.MVPImageSlideshow=function(m){function r(){ab||(ab=!0,da&&(da.remove(),da=null),J=1E3*D,Fa&&v.play())}var v=this,C=m.holder,y,F,J,D=m.settings.slideshowDuration?parseInt(m.settings.slideshowDuration,10):10,ha=m.settings.slideshowRandom,G,ab,ob=[],ta,da,xa,Fa=m.settings.autoPlay;this.initMedia=function(){0<C.children().length&&(da=C.children().eq(0));ta++;ta>ob.length-1&&(ta=0);var w=ob[ta];b(new Image).css({display:"block"}).addClass("mvp-media mvp-media-img").appendTo(C).on("load",
function(){F=b(this);v.resize();da&&da.removeClass("mvp-slideshow-visible");ab=!1;F.one("transitionend",function(){r()}).addClass("mvp-slideshow-visible");G=parseFloat(F.css("transition-duration"),10);setTimeout(function(){r()},1E3*G)}).attr("src",w)};this.pause=function(){y&&clearTimeout(y);var w=(new Date).getTime()-xa;J-=w;0>J&&(J=0)};this.play=function(){Fa=!0;y&&clearTimeout(y);xa=(new Date).getTime();y=setTimeout(v.ended,J)};this.ended=function(){v.initMedia()};this.dispose=function(){y&&clearTimeout(y);
C.empty();F=null};this.resize=function(){};this.setData=function(w){ta=-1;ob=w.slideshowImages;ha&&MVPUtils.shuffleArray(ob);v.initMedia()}}})(window,jQuery);
(function(f,b){f.MVPPlaylistManager=function(m){function r(){xa?(da=xa.slice(),xa=null):da=MVPUtils.randomiseArray(D);console.log(da)}function v(w,La){if(w[0]==La){var lc=w.splice(0,1);w.push(lc)}}function C(w,La){if(w[D-1]==La){var lc=w.splice(D-1,1);w.unshift(lc)}}var y=this,F=m.loopingOn,J=m.randomPlay,D,ha=!1,G=-1,ab,ob,ta=!1,da=[],xa,Fa=!1;setTimeout(function(){clearTimeout(this);b(y).trigger("MVPPlaylistManager.RANDOM_CHANGE",J);b(y).trigger("MVPPlaylistManager.LOOP_CHANGE",F)},50);this.setCounter=
function(w,La){"undefined"===typeof La&&(La=!0);G=La?G+parseInt(w,10):parseInt(w,10);isNaN(G)?alert("MVPPlaylistManager message: No active media, counter = "+G):(ha=!1,F?(J?G>D-1?(G=da[D-1],r(),v(da,G),G=0):0>G&&(G=da[0],r(),C(da,G),G=D-1):G>D-1?G=0:0>G&&(G=D-1),b(y).trigger("MVPPlaylistManager.COUNTER_READY",y.getCounter())):(G>D-1?(G=D-1,ha=!0):0>G&&(ha=!0,G=0),ha?b(y).trigger("MVPPlaylistManager.PLAYLIST_END"):b(y).trigger("MVPPlaylistManager.COUNTER_READY",y.getCounter())))};this.getCounter=function(){return J?
Fa?G:da[G]:G};this.getNextCounter=function(w){w=G+w;ha=!1;if(F)J?w>D-1?(w=da[D-1],xa=MVPUtils.randomiseArray(D),v(xa,w),w=0):0>w&&(w=da[0],xa=MVPUtils.randomiseArray(D),C(xa,w),w=D-1):w>D-1?w=0:0>w&&(w=D-1);else if(w>D-1?(ha=!0,w=D-1):0>w&&(ha=!0,w=0),ha)return;return J?Fa?w:(xa||da)[w]:w};this.advanceHandler=function(w){Fa=!1;ta?(ta=!1,ob+w>D-1?(G=D-1,b(y).trigger("MVPPlaylistManager.COUNTER_READY",y.getCounter())):0>ob+w?(G=0,b(y).trigger("MVPPlaylistManager.COUNTER_READY",y.getCounter())):y.setCounter(ob+
w,!1)):y.setCounter(w)};this.processPlaylistRequest=function(w){Fa=!1;J&&(Fa=!0,ab=w,ta||(ob=G,ta=!0));y.setCounter(w,!1)};this.setPlaylistItems=function(w,La){"undefined"===typeof La&&(La=!0);La&&(G=-1);D=w;J&&r()};this.reSetCounter=function(w){"undefined"===typeof w?G=-1:(w=parseInt(w,10),D?(w>D-1?w=D-1:0>w&&(w=0),G=w):G=-1)};this.setRandom=function(w){J="undefined"!==typeof w?w:!J;3>D&&(J=!1);J&&r();if(J){var La=da.length;for(w=0;w<La;w++)if(da[w]==G){if(0==w)break;w=da.splice(w,1);da.unshift(parseInt(w,
10));break}G=0}else ta?(G=ab,ta=!1):G=da[G];b(y).trigger("MVPPlaylistManager.RANDOM_CHANGE",J)};this.getRandom=function(w){return J};this.setLooping=function(w){F="undefined"!==typeof w?w:!F;b(y).trigger("MVPPlaylistManager.LOOP_CHANGE",F)};this.getLooping=function(w){return F};this.getPosition=function(w){return da.indexOf(w)}}})(window,jQuery);
(function(f,b){function m(C,y,F,J){var D={},ha=F.width();F=F.height();J=r(y,J);y=J.width;J=J.height;var G=(ha-0)/(F-0),ab=y/J;ab<G?C?(D.width=(F-0)/J*y,D.height=F-0):(D.height=(ha-0)/y*J,D.width=ha-0):ab>G?C?(D.height=(ha-0)/y*J,D.width=ha-0):(D.width=(F-0)/J*y,D.height=F-0):(D.width=ha-0,D.height=F-0);return D}function r(C,y){var F={};"video"==C?y[0]&&y[0].videoWidth&&y[0].videoHeight?(F.width=y[0].videoWidth,F.height=y[0].videoHeight):(F.width=16,F.height=9):"iframe"==C?y.sw&&y.sh?(F.width=y.sw,
F.height=y.sh):(F.width=16,F.height=9):"image"==C&&(F.width=y.width(),F.height=y.height());return F}var v=function(){};v.resizeMedia=function(C,y,F,J){var D,ha=F.width();var G=F.height();0==y?D=r(C,J):1==y?D=m(!0,C,F,J):2==y&&(D=m(!1,C,F,J));C=parseInt((ha-D.width)/2,10);G=parseInt((G-D.height)/2,10);J.css({width:D.width+"px",height:D.height+"px",left:C+"px",top:G+"px"})};f.MVPAspectRatio=v})(window,jQuery);
(function(f){f.fn.mvp=function(b){function m(){U.swipe({swipeLeft:function(a,c,e,d,h,p){if(!z)return!1;("audio"==l||"video"==l&&!g.is360||"image"==l&&!g.is360||"youtube"==l&&"chromeless"==b.youtubePlayerType&&!g.is360||"vimeo"==l&&"chromeless"==Ca&&!g.is360)&&Xb()},swipeRight:function(a,c,e,d,h,p){if(!z)return!1;("audio"==l||"video"==l&&!g.is360||"image"==l&&!g.is360||"youtube"==l&&"chromeless"==b.youtubePlayerType&&!g.is360||"vimeo"==l&&"chromeless"==Ca&&!g.is360)&&Se()}})}function r(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(1==
c.nextAddress)return a.addEventListener("end",v),c.yield(ia.xr.setSession(a),2);Td=a;c.jumpToEnd()})}function v(){Td.removeEventListener("end",v);Td=null}function C(){Te=!1;n.removeClass("mvp-theater");b.theaterElement&&f(b.theaterElement).removeClass(b.theaterElementClass);Hc&&Hc.removeClass("mvp-lightbox-center");yg=b.instanceName;var a=n[0];if("normal"==qa){var c=document,e=c.documentElement;c=c.body;Ih=e.scrollLeft||c.scrollLeft||0;Jh=e.scrollTop||c.scrollTop||0;f(q).trigger("fullscreenBeforeEnter",
{instance:q,instanceName:b.instanceName,media:g})}mj?a.requestFullscreen?document.fullscreenElement?document.exitFullscreen():a.requestFullscreen():a.webkitRequestFullScreen?document.webkitIsFullScreen?document.webkitCancelFullScreen():a.webkitRequestFullScreen():a.msRequestFullscreen?document.msIsFullscreen||document.msFullscreenElement?document.msExitFullscreen():a.msRequestFullscreen():a.mozRequestFullScreen&&(document.fullscreenElement||document.mozFullScreenElement?document.mozCancelFullScreen():
a.mozRequestFullScreen()):"fullscreen"==qa?F():y();setTimeout(function(){Ga()},250)}function y(){qa="fullscreen";ja.removeClass(b.minimizeClass);Kh.addClass("mvp-fs-overflow");n.addClass("mvp-fs");"lightbox"==b.playerType&&mc.addClass("mvp-fs");nc.find(".mvp-btn-fullscreen").hide();nc.find(".mvp-btn-normal").show();oc.hide();document.body.style.cursor="default";"custom"==b.rightClickContextMenu&&(Ue.find(".mvp-context-fullscreen-enter").hide(),Ue.find(".mvp-context-fullscreen-exit").show());b.hidePlaylistOnFullscreenEnter&&
b.playlistOpened&&(zg=!0,b.playlistOpened=!1);"outer"==S&&Ic.hide();f(q).trigger("fullscreenEnter",{instance:q,instanceName:b.instanceName,media:g})}function F(){qa="normal";Kh.removeClass("mvp-fs-overflow");n.removeClass("mvp-fs");"lightbox"==b.playerType&&mc.removeClass("mvp-fs");nc.find(".mvp-btn-fullscreen").show();nc.find(".mvp-btn-normal").hide();oc.show();document.body.style.cursor="default";"custom"==b.rightClickContextMenu&&(Ue.find(".mvp-context-fullscreen-enter").show(),Ue.find(".mvp-context-fullscreen-exit").hide());
zg&&!b.playlistOpened&&(zg=!1,b.playlistOpened=!0);"outer"==S&&Ic.show();window.scrollTo(Ih,Jh);b.minimizeOnScroll&&(b.minimizeOnScrollOnlyIfPlaying?na&&jd():jd());yg=null;f(q).trigger("fullscreenExit",{instance:q,instanceName:b.instanceName,media:g})}function J(a){if(!Ve){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();Ve=!0;Ra.on(Kb,function(c){a:{if("touchmove"==c.type){if(c.originalEvent.touches&&c.originalEvent.touches.length)var e=c.originalEvent.touches;
else if(c.originalEvent.changedTouches&&c.originalEvent.changedTouches.length)e=c.originalEvent.changedTouches;else break a;if(1<e.length)break a;e=e[0]}else e=c;c.preventDefault();D(e)}}).on(kd,function(c){a:if(Ve){Ve=!1;Ra.off(Kb).off(kd);if("touchend"==c.type){if(c.originalEvent.touches&&c.originalEvent.touches.length)var e=c.originalEvent.touches;else if(c.originalEvent.changedTouches&&c.originalEvent.changedTouches.length)e=c.originalEvent.changedTouches;else break a;if(1<e.length)break a;e=
e[0]}else e=c;c.preventDefault();D(e)}})}return!1}function D(a){a=a.pageX-bb.offset().left;0>a?a=0:a>Ma&&(a=Ma);R||(Ma=bb.width());var c=Math.max(0,Math.min(1,a/Ma));if(R){if("audio"==l&&!isNaN(x.duration)){var e=x.duration;var d=c*e;d>e-1&&(d=e-1);if(b.disableSeekingPastWatchedPoint&&d>Yb)return!1;try{x.currentTime=d.toFixed(1)}catch(h){}}else if("video"==l&&!isNaN(u.duration)){e=u.duration;d=c*e;d>e-1&&(d=e-1);if(b.disableSeekingPastWatchedPoint&&d>Yb)return!1;try{u.currentTime=d.toFixed(1)}catch(h){}}else if("youtube"==
l){e=E.getDuration();d=c*e;d>e-1&&(d=e-1);if(b.disableSeekingPastWatchedPoint&&d>Yb||b.disableSeekingPastWatchedPoint&&d>Yb)return!1;E.seekTo(d)}else if("vimeo"==l)if("chromeless"==Ca&&L.show(),0!=Lb){e=Lb;d=c*e;d>e-1&&(d=e-1);if(b.disableSeekingPastWatchedPoint&&d>Yb)return!1;B.setCurrentTime(d)}else B.getDuration().then(function(h){e=h;d=c*e;d>e-1&&(d=e-1);if(b.disableSeekingPastWatchedPoint&&d>Yb)return!1;B.setCurrentTime(d)});na||(Mb=null,pc(!0))}else g.duration&&(d=c*g.duration,g.start=d,Nb.width(d/
g.duration*Ma))}function ha(a){var c=a.pageX-bb.offset().left;if(!MVPUtils.isNumber(c))return!1;0>c?c=0:c>Ma&&(c=Ma);var e=Math.max(0,Math.min(1,c/Ma));if(!MVPUtils.isNumber(e))return!1;c=ja.hasClass(b.minimizeClass)?ja:Zb?ja:n;var d=c[0].getBoundingClientRect(),h=pb[0].getBoundingClientRect();if(g.duration)var p=g.duration;else"audio"==l?p=x.duration:"video"==l?p=u.duration:"youtube"==l?p=E.getDuration():"vimeo"==l&&(p=Lb);if(g.previewSeek){e*=p;if(MVPUtils.isNumber(p)){var k=Na.length;for(p=0;p<
k;p++){var t=Na[p];if(t.start<=e&&t.end>=e){var A=t.text;break}}A=A?'<div class="mvp-preview-seek-chapter-title">'+A+'</div><div class="mvp-preview-seek-chapter-time">'+MVPUtils.formatTime(e)+"</div>":'<div class="mvp-preview-seek-chapter-time">'+MVPUtils.formatTime(e)+"</div>";nj.html(A)}if($b.length)for(p=$b.length,A=0;A<p;A++){var Z=$b[A];k=Z.start;t=Z.end;if(e>=k&&e<=t){if(!ac){Z=Z.url;var ka=Z.substr(Z.lastIndexOf("=")+1).split(",");ka="-"+ka[0]+"px -"+ka[1]+"px";Z=encodeURI(Z);ac={};ac.start=
k;ac.end=t;Ag.css({"background-image":"url("+Z+")","background-position":ka})}}else ac&&(e<ac.start||e>ac.end)&&(ac=null)}a=a.pageX-Sa.scrollLeft()-d.left-zb.outerWidth()/2;d=h.top-d.top-zb.outerHeight()-5;if(Jc){if(d+2>Jc||d-2<Jc)Jc=d}else Jc=d;"lightbox"!=b.playerType&&(0>a?a=0:a+zb.outerWidth()>c.width()&&(a=c.width()-zb.outerWidth()));qc&&oj(e);zb.css({left:parseInt(a,10)+"px",top:Jc+"px"}).show()}else a=a.pageX-Sa.scrollLeft()-d.left-ba.outerWidth()/2,d=h.top-d.top-ba.outerHeight(),"lightbox"!=
b.playerType&&(0>a?a=0:a+ba.outerWidth()>c.width()&&(a=c.width()-ba.outerWidth())),ba.css({left:parseInt(a,10)+"px",top:parseInt(d,10)+"px"}).show(),MVPUtils.isNumber(p)&&ba.text(MVPUtils.formatTime(p*e)+" / "+MVPUtils.formatTime(p))}function G(a){if(z){if(!We){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();We=!0;Ra.on(Kb,function(c){a:{if("touchmove"==c.type){if(c.originalEvent.touches&&c.originalEvent.touches.length)var e=c.originalEvent.touches;
else if(c.originalEvent.changedTouches&&c.originalEvent.changedTouches.length)e=c.originalEvent.changedTouches;else break a;if(1<e.length)break a;e=e[0]}else e=c;c.preventDefault();ob(e)}}).on(kd,function(c){a:if(We){We=!1;Ra.off(Kb).off(kd);if("touchend"==c.type){if(c.originalEvent.touches&&c.originalEvent.touches.length)var e=c.originalEvent.touches;else if(c.originalEvent.changedTouches&&c.originalEvent.changedTouches.length)e=c.originalEvent.changedTouches;else break a;if(1<e.length)break a;e=
e[0]}else e=c;c.preventDefault();ob(e)}})}return!1}}function ab(){if(!z)return!1;0<P?(Lh=P,P=0):P=Lh;ta()}function ob(a){Kc?P=Math.max(0,Math.min(1,(a.pageX-ld.offset().left)/md)):(P=Math.max(0,Math.min(1,(a.pageY-ld.offset().top)/md)),P=1-P);ta()}function ta(a){"undefined"!==typeof a&&(P=a);"undefined"!==typeof P&&("audio"==l?x&&(x.volume=P,x.muted=0==P?!0:!1):"video"==l?u&&(u.volume=P,u.muted=0==P?!0:!1):"youtube"==l?E&&(E.setVolume(100*P),0==P?E.mute():E.unMute()):"vimeo"==l&&B&&B.setVolume(P));
nd.children().hide();0==P?nd.find(".mvp-btn-volume-off").show():0<P&&.5>P?nd.find(".mvp-btn-volume-down").show():.5<=P&&1>=P&&nd.find(".mvp-btn-volume-up").show();0<P&&od&&(od.remove(),od=null);pj.css(Kc?"width":"height",P*md+"px");f(q).trigger("volumeChange",{instance:q,instanceName:b.instanceName,volume:P})}function da(a){var c=Kc?a.pageX-ld.offset().left:a.pageY-ld.offset().top;0>c?c=0:c>md&&(c=md);c=Math.max(0,Math.min(1,c/md));if(!MVPUtils.isNumber(c))return!1;Kc||(c=1-c);c=parseInt(100*c,10);
ba.text(c+" %");var e=(ja.hasClass(b.minimizeClass)?ja:Zb?ja:n)[0].getBoundingClientRect(),d=cb[0].getBoundingClientRect();Kc?(c=parseInt(a.pageX-Sa.scrollLeft()-e.left-ba.outerWidth()/2),a=parseInt(d.top-e.top-ba.outerHeight())):(c=parseInt(d.left-e.left-ba.outerWidth()/2+cb.outerWidth()/2),a=parseInt(a.pageY-Sa.scrollTop()-e.top-ba.outerHeight()-10));ba.css({left:c+"px",top:a+"px"}).show()}function xa(){W.find(".mvp-settings-menu").css("display","none");var a=W.width(),c=W.height();W.css({width:"auto",
height:"auto"});Lc.css("display","block");var e=Lc.width(),d=Lc.height();W.css({width:a+"px",height:c+"px"});setTimeout(function(){W.css({width:e+"px",height:d+"px"})},20)}function Fa(a){Xe&&Xe.removeClass("mvp-menu-active");Xe=Mh.find(".mvp-menu-item[data-value='"+a+"']").addClass("mvp-menu-active");W.find(".mvp-playback-rate-menu-value").text(Xe.text())}function w(a,c){var e,d=a.length;for(e=0;e<d;e++){var h=a[e];h.label?(console.log(h.label),f("<li/>").addClass("mvp-menu-item").attr({"data-value":h.value,
"data-label":h.label}).text(h.label).on("click",La).appendTo(Ye)):f("<li/>").addClass("mvp-menu-item").attr("data-value",h).text(h).on("click",La).appendTo(Ye)}lc(c);Nh.removeClass("mvp-force-hide")}function La(){if(f(this).hasClass("mvp-menu-active"))return b.closeSettingsMenuOnSelect?rc.click():xa(),!1;var a=f(this).attr("data-value");g.quality=a;lc(a);R?q.setPlaybackQuality(a):Bg();b.closeSettingsMenuOnSelect?rc.click():xa()}function lc(a){Ze&&Ze.removeClass("mvp-menu-active");Ze=Ye.find(".mvp-menu-item[data-value='"+
a+"']").addClass("mvp-menu-active");W.find(".mvp-quality-menu-value").text(Ze.text())}function Oh(){var a=f(this).attr("data-value");"hls"==la&&(Q.audioTrack=a);b.closeSettingsMenuOnSelect?rc.click():xa()}function Ph(){var a,c=g.subtitles.length,e;b.rememeberCaptionState&&Ud&&localStorage.getItem(Mc)&&(e=JSON.parse(localStorage.getItem(Mc)));for(a=0;a<c;a++){var d=g.subtitles[a];f("<li/>").addClass("mvp-menu-item").attr({"data-value":d.value,"data-label":d.label}).text(d.label).on("click",qj).appendTo(Vd);
if(e){if(e.active&&e.value==d.label)var h=d.label}else d["default"]&&(h=d.label)}h||(h=b.subtitleOffText);q.setSubtitle(h);Qh.removeClass("mvp-force-hide");Nc.show();$e=!0}function qj(){if(f(this).hasClass("mvp-menu-active"))return b.closeSettingsMenuOnSelect?rc.click():xa(),!1;var a=f(this).attr("data-label");q.setSubtitle(a);b.closeSettingsMenuOnSelect?rc.click():xa()}function rj(a){f.ajax({url:a.src}).done(function(c){c=c.split(/[\r\n]/);var e;for(e in c){var d=c[e];if(/.vtt/.test(d)){a.src=a.src.substr(0,
a.src.lastIndexOf("/")+1)+d;var h=!0;break}}h?Rh(a):console.log("Error loading subtitle!")}).fail(function(c,e,d){console.log(c,e,d)})}function Rh(a){if("file:"==window.location.protocol)return console.log("Getting subtitle requires server connection."),!1;Ab=[];var c=a.src;-1!=c.indexOf("ebsfm:")&&(c=MVPUtils.b64DecodeUnicode(c.substr(6)));f.ajax({url:c}).done(function(e){e=e.replace(/\r\n|\r|\n/g,"\n");e=MVPUtils.strip(e);e=e.split("\n\n");var d,h=0,p;for(d in e){var k=e[d].split("\n");if("WEBVTT"!=
k&&2<=k.length&&"WEBVTT"!=k[0]){if(2<k.length){var t=MVPUtils.strip(k[1].split(" --\x3e ")[0]);var A=MVPUtils.strip(k[1].split(" --\x3e ")[1]);var Z=k[2];if(3<k.length)for(p=3;p<k.length;p++)Z+="\n"+k[p]}else t=MVPUtils.strip(k[0].split(" --\x3e ")[0]),A=MVPUtils.strip(k[0].split(" --\x3e ")[1]),Z=k[1];Ab[h]={};Ab[h].start=MVPUtils.toSeconds(t);Ab[h].end=MVPUtils.toSeconds(A);Ab[h].text=Z;h++}}af[a.label]=Ab;pd=!0;R&&(Mb=null,pc(!0))}).fail(function(e,d,h){console.log(e,d,h)})}function Wd(a){if("undefined"!==
typeof a){if(Bb&&1==a||!Bb&&0==a)return!1;Bb=!a}Bb?Ob.one("transitionend",function(){Ob.css("display","none");Bb=!1}).removeClass("mvp-holder-visible"):(Ob.css("display","block"),setTimeout(function(){Ob.addClass("mvp-holder-visible");Bb=!0},20))}function sj(){Na=[];f.ajax({url:g.chapters}).done(function(a){a=a.replace(/\r\n|\r|\n/g,"\n");a=MVPUtils.strip(a);a=a.split("\n\n");var c,e=0,d;for(c in a){var h=a[c].split("\n");if("WEBVTT"!=h){if(2<=h.length)if(2<h.length){var p=MVPUtils.strip(h[1].split(" --\x3e ")[0]);
var k=MVPUtils.strip(h[1].split(" --\x3e ")[1]);var t=h[2];if(2<h.length)for(d=3;d<h.length;d++)t+="\n"+h[d]}else p=MVPUtils.strip(h[0].split(" --\x3e ")[0]),k=MVPUtils.strip(h[0].split(" --\x3e ")[1]),t=h[1];Na[e]={};Na[e].id=e;Na[e].start=MVPUtils.toSeconds(p);Na[e].end=MVPUtils.toSeconds(k);Na[e].text=t;e++}}g.duration&&b.showControlsBeforeStart&&Sh(g.duration);qd=!0}).fail(function(a,c,e){console.log("Error loading chapters: ",a.responseText,c,e)})}function Sh(a){var c,e=Na.length;for(c=0;c<e;c++){var d=
Na[c];var h=Math.abs(d.end-d.start);h=h/a*100;var p=d.start/a*100;h=f('<div class="mvp-chapter-indicator"><div class="mvp-chapter-indicator-highlight"></div></div>').css({width:h+"%",left:p+"%"}).attr({"data-id":c,"data-title":d.text,"data-start":d.start,"data-end":d.end});if(!ya)h.on("mouseenter",function(){var k=f(this),t=k.attr("data-id");k.find(".mvp-chapter-indicator-highlight").addClass("mvp-chapter-indicator-highlight-visible");Xd.find('.mvp-chapter-menu-item[data-id="'+t+'"]').addClass("mvp-chapter-menu-item-active")}).on("mouseleave",
function(){var k=f(this),t=k.attr("data-id");Pb&&Pb.id==t||(k.find(".mvp-chapter-indicator-highlight").removeClass("mvp-chapter-indicator-highlight-visible"),Xd.find('.mvp-chapter-menu-item[data-id="'+t+'"]').removeClass("mvp-chapter-menu-item-active"))});if(b.seekToChapterStart)h.on("click",function(){var k=f(this),t=k.attr("data-id");Cg(t);k=Number(k.attr("data-start"));R?(q.seek(k),na||(Mb=null,pc(!0))):(g.start=k,g.duration&&(Ma=bb.width(),Nb.width(k/g.duration*Ma)))});h.appendTo(bb);d=f('<li class="mvp-chapter-menu-item">'+
d.text+"</li>").attr({"data-id":c,title:d.text,"data-start":d.start}).on("click",function(){var k=f(this),t=k.attr("data-id");Cg(t);k=Number(k.attr("data-start"));R?(q.seek(k),na||(Mb=null,pc(!0))):(g.start=k,g.duration&&(Ma=bb.width(),Nb.width(k/g.duration*Ma)));b.hideChapterMenuOnChapterSelect&&Wd(!1)}).appendTo(Xd);if(!ya)d.on("mouseenter",function(){var k=f(this),t=k.attr("data-id");bb.find('.mvp-chapter-indicator[data-id="'+t+'"]').find(".mvp-chapter-indicator-highlight").addClass("mvp-chapter-indicator-highlight-visible");
k.addClass("mvp-chapter-menu-item-active")}).on("mouseleave",function(){var k=f(this),t=k.attr("data-id");Pb&&Pb.id==t||(bb.find('.mvp-chapter-indicator[data-id="'+t+'"]').find(".mvp-chapter-indicator-highlight").removeClass("mvp-chapter-indicator-highlight-visible"),k.removeClass("mvp-chapter-menu-item-active"))})}Yd=!0;Zd.show();b.autoOpenChapterMenu&&Wd()}function Cg(a){bf&&bf.removeClass("mvp-chapter-menu-item-active");bf=Xd.find(".mvp-chapter-menu-item[data-id='"+a+"']").addClass("mvp-chapter-menu-item-active");
cf&&cf.removeClass("mvp-chapter-indicator-highlight-visible");cf=bb.find(".mvp-chapter-indicator[data-id='"+a+"']").find(".mvp-chapter-indicator-highlight").addClass("mvp-chapter-indicator-highlight-visible");Pb=Na[a]}function Th(a){var c,e=qb.length;for(c=0;c<e;c++){var d=qb[c];var h=Math.round(d.begin/a*100);d.marker=f('<div class="mvp-ad-indicator"></div>').css({left:h+"%"}).appendTo(bb)}}function tj(){Oc||(Oc=document.createElement("canvas"),Oc.className="mvp-preview-seek-canvas",$d=zb.width(),
ae=zb.height(),Oc.width=$d,Oc.height=ae,rd=Oc.getContext("2d"),Ag.append(Oc),ea=document.createElement("video"),ea.muted=!0,ea.playsinline=!0,ea.setAttribute("playsinline","playsinline"),ea.setAttribute("muted","muted"),ea.addEventListener("seeked",function(){df||(df=!0,rd.drawImage(ea,0,0,$d,ae))}));"hls"==la?sc&&(db=new Hls,db.on(Hls.Events.MEDIA_ATTACHED,function(){db.loadSource(M)})):"dash"==la&&(sd||(sd=dashjs.MediaPlayer().create()))}function oj(a){df=!1;var c=ea.play();void 0!==c&&c.then(function(){})["catch"](function(e){});
try{ea.currentTime=a}catch(e){}}function Uh(){ea&&ea.pause();rd&&rd.clearRect(0,0,$d,ae)}function uj(){if("file:"==window.location.protocol)return console.log("Getting preview seek requires server connection."),!1;$b=[];f.ajax({url:g.previewSeek}).done(function(a){a=a.replace(/\r\n|\r|\n/g,"\n");a=MVPUtils.strip(a);a=a.split("\n\n");var c,e=0;for(c in a){var d=a[c].split("\n");if("WEBVTT"!=d){if(2<=d.length){var h=MVPUtils.strip(d[0].split(" --\x3e ")[0]);var p=MVPUtils.strip(d[0].split(" --\x3e ")[1]);
d=d[1];$b[e]={};$b[e].start=MVPUtils.toSeconds(h);$b[e].end=MVPUtils.toSeconds(p);$b[e].url=d}e++}}be=!0}).fail(function(a,c,e){console.log(a,c,e)})}function vj(a){a.preventDefault();if(!z)return!1;a=f(a.currentTarget);if(a.hasClass("mvp-playback-toggle"))q.togglePlayback();else if(a.hasClass("mvp-big-play"))ca.hide(),q.togglePlayback();else if(a.hasClass("mvp-playlist-toggle"))Vh();else if(a.hasClass("mvp-resume-continue"))Dg(!1),0==Cb||0!=P||rb||(rb=!0,P=Cb),oa();else if(a.hasClass("mvp-resume-restart"))Dg(!1),
0==Cb||0!=P||rb||(rb=!0,P=Cb),aa=0,oa();else if(a.hasClass("mvp-cc-toggle"))q.toggleSubtitle();else if(a.hasClass("mvp-vr-toggle"))Td?Td.end():navigator.xr.requestSession("immersive-vr",{optionalFeatures:["local-floor","bounded-floor","hand-tracking"]}).then(r);else if(a.hasClass("mvp-info-toggle"))Eg();else if(a.hasClass("mvp-info-close"))Eg(!1);else if(a.hasClass("mvp-redirect-login-cancel"))td();else if(a.hasClass("mvp-share-close"))Fg(!1);else if(a.hasClass("mvp-chapter-toggle"))Wd();else if(a.hasClass("mvp-chapter-menu-close"))Wd(!1);
else if(a.hasClass("mvp-minimize-close"))Sa.off(Wh),jd(!0),b.minimizeOnScroll=!1;else if(a.hasClass("mvp-pwd-confirm")){var c=ef.val();if(MVPUtils.isEmpty(c))alert(Gg);else if("undefined"===typeof md5){a=document.createElement("script");a.type="text/javascript";var e=MVPUtils.relativePath(b.md5_js)?b.md5_js:MVPUtils.qualifyURL(b.sourcePath+b.md5_js);a.src=e;a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(md5(c)!=g.pwd?alert(Gg):(delete g.pwd,Qb.addClass("mvp-holder-visible-top"),
setTimeout(function(){Qb.css("display","none").removeClass("mvp-holder-visible-top")},500),ef.val(""),"0"!=g.lockTime||ud?oa():td("watch")))};a.onerror=function(){alert("Error loading "+this.src)};e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}else md5(c)!=g.pwd?alert(Gg):(delete g.pwd,Qb.addClass("mvp-holder-visible-top"),setTimeout(function(){Qb.css("display","none").removeClass("mvp-holder-visible-top")},500),ef.val(""),"0"!=g.lockTime||ud?oa():td("watch"))}else if(a.hasClass("mvp-previous-toggle")){if(b.disableVideoSkip)return!1;
Se()}else if(a.hasClass("mvp-next-toggle")){if(b.disableVideoSkip)return!1;Xb()}else if(a.hasClass("mvp-rewind-toggle"))q.seek(0);else if(a.hasClass("mvp-skip-backward-toggle"))q.seekBackward();else if(a.hasClass("mvp-skip-forward-toggle"))q.seekForward();else if(a.hasClass("mvp-loop-toggle"))N.setLooping();else if(a.hasClass("mvp-shuffle-toggle"))N.setRandom();else if(a.hasClass("mvp-share-toggle"))Fg();else if(a.hasClass("mvp-pip-toggle"))if(Xh)if(document.pictureInPictureElement)try{document.exitPictureInPicture()}catch(d){}else try{u.requestPictureInPicture()}catch(d){}else u.webkitSupportsPresentationMode&&
"function"===typeof u.webkitSetPresentationMode&&u.webkitSetPresentationMode("picture-in-picture"===u.webkitPresentationMode?"inline":"picture-in-picture");else if(a.hasClass("mvp-theater-toggle"))Te?(b.theaterElement&&f(b.theaterElement).removeClass(b.theaterElementClass),f(q).trigger("beforeTheaterExit",{instance:q,instanceName:b.instanceName,media:g}),Hg&&!b.playlistOpened&&(Hg=!1,b.playlistOpened=!0),n.removeClass("mvp-theater"),Ga()):(b.theaterElement&&f(b.theaterElement).addClass(b.theaterElementClass),
f(q).trigger("beforeTheaterEnter",{instance:q,instanceName:b.instanceName,media:g}),b.hidePlaylistOnTheaterEnter&&b.playlistOpened&&(Hg=!0,b.playlistOpened=!1),n.addClass("mvp-theater"),Ga(),setTimeout(function(){Ga()},250),b.focusVideoInTheater&&(a=O.offset().top,f("html,body").animate({scrollTop:a},500))),Te=!Te;else if(a.hasClass("mvp-share-item")){if(!l)return!1;Ig&&Ig.share(a.attr("data-type").toLowerCase(),g,q.getCurrentMediaUrl())}}function wj(a){a.preventDefault();if(!z||b.disableVideoSkip)return!1;
a=f(a.currentTarget);Jg=!0;g&&Pc();a=a.attr("data-id");N.processPlaylistRequest(a);f(q).trigger("clickPlaylistItem",{instance:q,instanceName:b.instanceName});"outer"==S?(a=O.offset().top,Sa.scrollTop()>a&&f("html,body").animate({scrollTop:a},500)):ya&&X.hasClass("mvp-playlist-holder-bottom")&&(a=O.offset().top,Sa.scrollTop()>a&&f("html,body").animate({scrollTop:a},500))}function xj(a){a.preventDefault();if(!z)return!1;a=f(a.currentTarget);var c=a.attr("data-id");c=sa[c].data;if(!ya)if(c.hoverPreviewImg){var e=
a.find(".mvp-thumbimg");e.attr("data-src",e.attr("src")).attr("src",c.hoverPreviewImg)}else c.hoverPreviewVideo&&(e=a.find(".mvp-playlist-thumb-preview").addClass("mvp-playlist-thumb-preview-visible").find(".mvp-playlist-thumb-preview-video")[0],e.src=c.hoverPreviewVideo,e.load());if(Ta&&Ta.is(a))return!1;a.addClass("mvp-playlist-item-selected")}function yj(a){a.preventDefault();if(!z)return!1;a=f(a.currentTarget);var c=a.attr("data-id");c=sa[c].data;ya||(c.hoverPreviewImg?(c=a.find(".mvp-thumbimg"),
c.attr("src",c.attr("data-src"))):c.hoverPreviewVideo&&(a.find(".mvp-playlist-thumb-preview").removeClass("mvp-playlist-thumb-preview-visible").find(".mvp-playlist-thumb-preview-video")[0].src=""));if(Ta&&Ta.is(a))return!1;a.removeClass("mvp-playlist-item-selected")}function ff(){Ta.removeClass("mvp-playlist-item-selected");f(q).trigger("playlistItemEnabled",{instance:q,instanceName:b.instanceName});Ta=null}function zj(){Ta&&ff();Ta=H.children(".mvp-playlist-item").eq(Rb);if(Ta.length){Ta.addClass("mvp-playlist-item-selected");
if(jb&&0<T){if(!Jg&&("buttons"==eb||"scroll"==eb))if(Ua)Ua.scrollTo(Ta);else var a=setInterval(function(){Ua&&(clearInterval(a),Ua.scrollTo(Ta))},100);Jg=!1}f(q).trigger("playlistItemDisabled",{instance:q,instanceName:b.instanceName})}}function Yh(a,c){var e=N.getNextCounter(c);if("undefined"!==typeof e){if(e=sa[e].data,e.thumb||e.title)e.thumb?Kg.css({"background-image":"url("+encodeURI(e.thumb)+")",display:"block"}):Kg.css("display","none"),e.title?Lg.html(e.title):Lg.html(""),e.duration?Mg.show().html(MVPUtils.formatTime(e.duration)):
Mg.hide().html("")}else return!1;var d=(ja.hasClass(b.minimizeClass)?ja:Zb?ja:n)[0].getBoundingClientRect(),h=a[0].getBoundingClientRect(),p=Aj[0].getBoundingClientRect();e=Ia.hasClass("mvp-upnext-l-side")?1==c?parseInt(h.left-d.left-Ia.width()-10):parseInt(h.left-d.left+h.width+10):Ia.hasClass("mvp-upnext-l-center")?parseInt(h.left-d.left-Ia.width()/2+h.width/2):parseInt(h.left-d.left);d=Ia.hasClass("mvp-upnext-t-center")?parseInt(h.top-d.top+h.height/2-Ia.height()/2):parseInt(p.top-d.top-Ia.height()-
10);Ia.addClass("mvp-upnext-wrap2-visible").css({left:e+"px",top:d+"px"})}function Bj(){l&&(K||"youtube"==l&&"default"==b.youtubePlayerType||"vimeo"==l&&"default"==Ca||"custom"==l||"custom_html"==l||(Qc=window.setTimeout(function(){na&&(Ja.one("transitionend",function(){fb=!0}).removeClass("mvp-player-controls-visible"),pa&&Da.removeClass("mvp-subtitle-visible"),tc.removeClass("mvp-ad-info-start-controls-align"),"fullscreen"==qa&&(document.body.style.cursor="none"),ba.hide(),g.previewSeek&&(zb.hide(),
qc&&Uh()),Bb&&Ob.removeClass("mvp-holder-visible"))},b.idleTimeout)))}function Ng(a){!l||K||"youtube"==l&&"default"==b.youtubePlayerType||"vimeo"==l&&"default"==Ca||"custom"==l||"custom_html"==l||(Qc&&clearTimeout(Qc),R&&fb&&(Ja.one("transitionend",function(){fb=!1}).addClass("mvp-player-controls-visible"),pa&&Da.addClass("mvp-subtitle-visible"),tc.hasClass("mvp-ad-info-start-visible")&&tc.addClass("mvp-ad-info-start-controls-align"),Bb&&Ob.addClass("mvp-holder-visible"),"fullscreen"==qa&&(document.body.style.cursor=
"default")),na&&Bj())}function Eg(a){if("undefined"!==typeof a){if(bc&&1==a||!bc&&0==a)return!1;bc=!a}bc?(ce.addClass("mvp-holder-visible-top"),setTimeout(function(){ce.css("display","none").removeClass("mvp-holder-visible-top");bc=!1;Sb&&(q.playMedia(),Sb=!1)},500)):(na&&(q.pauseMedia(),Sb=!0),ce.addClass("mvp-holder-visible-top").css("display","block"),setTimeout(function(){ce.removeClass("mvp-holder-visible-top");bc=!0},20))}function Fg(a){if("undefined"!==typeof a){if(cc&&1==a||!cc&&0==a)return!1;
cc=!a}cc?(de.addClass("mvp-holder-visible-top"),setTimeout(function(){de.css("display","none").removeClass("mvp-holder-visible-top");cc=!1;Sb&&(q.playMedia(),Sb=!1)},500)):(na&&(q.pauseMedia(),Sb=!0),de.addClass("mvp-holder-visible-top").css("display","block"),setTimeout(function(){de.removeClass("mvp-holder-visible-top");cc=!0},20))}function td(a){gf?(ee.addClass("mvp-holder-visible-top"),setTimeout(function(){ee.css("display","none").removeClass("mvp-holder-visible-top");gf=!1;Sb&&(q.playMedia(),
Sb=!1)},500)):(f(q).trigger("beforeLoginScreen",{instance:q,instanceName:b.instanceName,media:g}),na&&(q.pauseMedia(),Sb=!0),ee="download"==a?Zh:$h,ee.addClass("mvp-holder-visible-top").css("display","block"),setTimeout(function(){ee.removeClass("mvp-holder-visible-top");gf=!0},20))}function Dg(a){if("undefined"!==typeof a){if(vd&&1==a||!vd&&0==a)return!1;vd=!a}vd?(hf.addClass("mvp-holder-visible-top"),setTimeout(function(){hf.css("display","none").removeClass("mvp-holder-visible-top");vd=!1},500)):
(ai.html(g.title),hf.addClass("mvp-holder-visible-top").css("display","block"),setTimeout(function(){hf.removeClass("mvp-holder-visible-top");vd=!0},20))}function bi(a){Oa=!0;L.show();Rc&&jf();var c=kf.length?kf.find(a):f(a);if(0==c.length)return alert("Failed playlist selection! Playlist - "+a+" does not exist. Check activePlaylist option in settings!"),!1;dc=void 0!=c.attr("data-playlist-id")?c.attr("data-playlist-id"):null;wd=a;f(q).trigger("playlistStartLoad",{instance:q,instanceName:b.instanceName});
xd=-1;ua=[];Pa=[];c.find(".mvp-global-playlist-data").length&&(I=c.find(".mvp-global-playlist-data").css("display","none").clone().prependTo(H),I.find(".mvp-ad-section").length&&(lf=I.find(".mvp-ad-section")),I.find(".mvp-annotation-section").length&&(mf=I.find(".mvp-annotation-section")),void 0!=I.attr("data-pwd")&&(nf=I.attr("data-pwd")),void 0==I.attr("data-start")||MVPUtils.isEmpty(I.attr("data-start"))||(of=Number(I.attr("data-start"))),void 0==I.attr("data-end")||MVPUtils.isEmpty(I.attr("data-end"))||
(pf=Number(I.attr("data-end"))),void 0==I.attr("data-playback-rate")||MVPUtils.isEmpty(I.attr("data-playback-rate"))||(qf=Number(I.attr("data-playback-rate"))),void 0!=I.attr("data-lock-time")&&(rf=Number(I.attr("data-lock-time"))),void 0==I.attr("data-lock-video-user-roles")||MVPUtils.isEmpty(I.attr("data-lock-video-user-roles"))||(sf=I.attr("data-lock-video-user-roles").split(",")));c.children(".mvp-playlist-item").each(function(){Pa.push(fe(f(this)))});T=Pa.length;za()}function yd(a){if("youtube"==
a)if("undefined"===typeof MVPYoutubeLoader){var c=document.createElement("script");c.type="text/javascript";c.src=MVPUtils.qualifyURL(b.sourcePath+b.youtubeLoader_js);c.onload=c.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||yd(a)};c.onerror=function(){alert("Error loading "+this.src)};var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e)}else gb=new MVPYoutubeLoader(b),f(gb).on("MVPYoutubeLoader.END_LOAD",function(d,h){var p,k=h.data.length;
for(p=0;p<k;p++){var t=h.data[p];ua.push(t)}hb=h.nextPageToken;Va?tf():za()}),uc&&hb&&(gb.setDataFromCache(fe(f(uc))),ge=!1);else"vimeo"==a&&("undefined"===typeof MVPVimeoLoader?(c=document.createElement("script"),c.type="text/javascript",c.src=MVPUtils.qualifyURL(b.sourcePath+b.vimeoLoader_js),c.onload=c.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||yd(a)},c.onerror=function(){alert("Error loading "+this.src)},e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(c,
e)):(Wa=new MVPVimeoLoader(b),f(Wa).on("MVPVimeoLoader.END_LOAD",function(d,h){var p,k=h.data.length;for(p=0;p<k;p++){var t=h.data[p];ua.push(t)}hb=h.nextPageToken;Va?tf():za()}),uc&&hb&&(Wa.setDataFromCache(fe(f(uc))),ge=!1)))}function za(){xd++;if(xd>T-1)tf();else{var a=Pa[xd],c=a.type;if(RegExp(/^youtube/).test(c))if(a.noApi)ua.push(a),za();else if(ec="youtube",a.loadMore&&(sb=!0),gb)gb.setData(a);else{yd("youtube");var e=setInterval(function(){gb&&(clearInterval(e),gb.setData(a))},100)}else RegExp(/^vimeo/).test(c)?
a.noApi?(ua.push(a),za()):(ec="vimeo",a.loadMore&&(sb=!0),Wa?Wa.setData(a):(yd("vimeo"),e=setInterval(function(){Wa&&(clearInterval(e),Wa.setData(a))},100))):"gdrive_folder"==c?Cj(a):RegExp(/^folder/).test(c)?Dj(a):RegExp(/^audio|^video|^image|^hls|^dash|^custom/).test(c)?(ua.push(a),za()):"xml"==c?Ej(a):"json"==c&&Fj(a)}}function Ej(a){f.ajax({type:"GET",url:a.path,dataType:"html"}).done(function(c){f(c).children(".mvp-playlist-item").each(function(){Pa.push(fe(f(this)))});T=Pa.length;za()}).fail(function(c,
e,d){console.log(c,e,d);za()})}function Fj(a){f.ajax({type:"GET",url:a.path,dataType:"json"}).done(function(c){xd=-1;ua=[];Pa=[];Rc=H;Array.isArray(c)?Pa=c:Pa.push(c);T=Pa.length;za()}).fail(function(c,e,d){console.log("Error processJson: "+c,e,d);za()})}function Dj(a){if("file:"==window.location.protocol)return console.log("Reading files from folders locally is not possible! This requires online server connection."),za(),!1;var c=a.type;if("folder_video"==c)var e=["mp4"];else"folder_audio"==c?(a.id3&&
(Og=Sc=ua.length-1),e=["mp3","wav","flac","aac"]):"folder_image"==c&&(e=["jpg","jpeg","png","gif","webp"]);f.ajax({type:"GET",url:b.sourcePath+"includes/folder_parser.php",data:{type:e,dir:a.path,limit:a.limit||100},dataType:"json"}).done(function(d){a.sort&&("filename-asc"==a.sort?MVPUtils.keysrt(d,"filename"):"filename-desc"==a.sort?MVPUtils.keysrt(d,"filename",!0):"date-asc"==a.sort?MVPUtils.keysrt(d,"filemtime"):"date-desc"==a.sort&&MVPUtils.keysrt(d,"filemtime",!0));var h,p=d.length;for(h=0;h<
p;h++){var k=d[h];if("folder_audio"==c){if(/mp3|wav/.test(k.basename)){var t=f.extend(!0,{},a);t.type="audio";var A=k.fullpath;"mp3"==k.extension?t.path=[{quality:"default",mp3:A}]:"wav"==k.extension&&(t.path=[{quality:"default",wav:A}]);b.requirePosterFromFolder&&(t.poster=A.substr(0,A.lastIndexOf("/")+1)+"poster/"+k.filename+".jpg");b.requireThumbnailsFromFolder&&!t.thumb&&(t.thumb=A.substr(0,A.lastIndexOf("/")+1)+"thumb/"+k.filename+".jpg");t.share||(t.share=A);t.title||(t.title=k.filename);ua.push(t);
Sc++}}else"folder_video"==c?/mp4/.test(k.basename)&&(t=f.extend(!0,{},a),t.type="video",A=k.fullpath,t.path=[{quality:"default",mp4:A}],b.requirePosterFromFolder&&(t.poster=A.substr(0,A.lastIndexOf("/")+1)+"poster/"+k.filename+".jpg"),b.requireThumbnailsFromFolder&&!t.thumb&&(t.thumb=A.substr(0,A.lastIndexOf("/")+1)+"thumb/"+k.filename+".jpg"),t.share||(t.share=A),t.title||(t.title=k.filename),ua.push(t)):"folder_image"==c&&/jpg|jpeg|png|gif/.test(k.basename)&&(t=f.extend(!0,{},a),t.type="image",
A=k.fullpath,t.path=A,b.requireThumbnailsFromFolder&&!t.thumb&&(t.thumb=A.substr(0,A.lastIndexOf("/")+1)+"thumb/"+k.filename+".jpg"),t.share||(t.share=A),t.title||(t.title=k.filename),ua.push(t))}"folder_audio"==c?a.id3?uf():za():za()}).fail(function(d,h,p){console.log(d,h,p);za()})}function uf(){if("undefined"===typeof jsmediatags){var a=document.createElement("script");a.type="text/javascript";var c=MVPUtils.relativePath(b.mediatags_js)?b.mediatags_js:MVPUtils.qualifyURL(b.sourcePath+b.mediatags_js);
a.src=c;a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||uf()};a.onerror=function(){alert("Error loading "+this.src)};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)}else{var e=ua[Sc];jsmediatags.read(e.path[0].mp3||e.path[0].wav,{onSuccess:function(d){var h=d.tags;d=h.picture;h.artist&&(e.artist=h.artist);h.title&&(e.title=h.title);h.album&&(e.album=h.album);if(d){h="";var p,k=d.data.length;for(p=0;p<k;p++)h+=String.fromCharCode(d.data[p]);
e.thumb="data:"+d.format+";base64,"+window.btoa(h)}Sc--;Sc>Og?uf():za()},onError:function(d){console.log("ID3 error: ",d.type,d.info);Sc--;Sc>Og?uf():za()}})}}function Cj(a){if("file:"==window.location.protocol)return console.log("Reading files from folders locally is not possible! This requires server connection."),!1;if(MVPUtils.isEmpty(b.gDriveAppId))return console.log("gDriveAppId has not been set in settings!"),!1;f.ajax({url:"https://www.googleapis.com/drive/v3/files?q='"+a.path+"'+in+parents&pageSize=1000&key="+
b.gDriveAppId,dataType:"jsonp"}).done(function(c){var e,d=c.files.length,h=[],p=[];for(e=0;e<d;e++){var k=c.files[e];/mp4/.test(k.mimeType)?p.push(k):/jpg|jpeg|png|webp/.test(k.mimeType)&&h.push(k)}a.sort&&("filename-asc"==a.sort?(MVPUtils.keysrt(p,"name"),MVPUtils.keysrt(h,"name")):"filename-desc"==a.sort&&(MVPUtils.keysrt(p,"name",!0),MVPUtils.keysrt(h,"name",!0)));d=p.length;for(e=0;e<d;e++){k=p[e];c=f.extend(!0,{},a);c.type="video";k.name.substr(k.name.lastIndexOf(".")+1);var t="https://www.googleapis.com/drive/v3/files/"+
k.id+"?alt=media&key="+b.gDriveAppId;c.path=t;b.createDownloadIconsInPlaylist&&!c.download&&(c.download=t);b.createLinkIconsInPlaylist&&!c.link&&(c.link="https://drive.google.com/open?id="+k.id);!c.thumb&&h[e]&&(c.thumb="https://drive.google.com/uc?export=view&id="+h[e].id);c.title||(c.title=k.name.substr(0,k.name.lastIndexOf(".")));ua.push(c)}za()}).fail(function(c,e,d){console.log("Error processGdriveFolder: "+c,e,d);za()})}function tf(){var a,c=Tc?Db:sa.length,e=ua.length,d,h=0;Pg=[];for(a=0;a<
e;a++){var p=a+c;Tc&&h++;var k=ua[a];var t=k.type;if(jb){k.origclasses||(k.origclasses="mvp-playlist-item");var A=f('<div class="'+k.origclasses+'"/>').attr("data-type",t);delete k.origclasses;if(-1!=vf.indexOf("thumb")){var Z=null;if("youtube"==k.type)k.thumbnails&&(f.each(k.thumbnails,function(Gj,Hj){if(Gj==b.youtubeThumbSize)return Z=Hj.url,!1}),Z||(k.thumbnails.medium?Z=k.thumbnails.medium.url:k.thumbnails.high?Z=k.thumbnails.high.url:k.thumbnails.standard&&(Z=k.thumbnails.standard.url)),b.showControlsBeforeStart&&
!k.poster&&(k.thumbnails.maxres?k.poster=k.thumbnails.maxres.url:k.thumbnails.high?k.poster=k.thumbnails.high.url:k.thumbnails.standard&&(k.poster=k.thumbnails.standard.url)));else if("vimeo"==k.type&&k.pictures){var ka=k.pictures.sizes;var he=ka.length;for(d=0;d<he;d++)if(ka[d].width==Ij){Z=ka[d].link;break}if(!Z)for(d=0;d<he;d++)if(295==ka[d].width||640==ka[d].width){Z=ka[d].link;break}if(b.showControlsBeforeStart&&!k.poster)for(d=0;d<he;d++)if(1280==ka[d].width||1920==ka[d].width){k.poster=ka[d].link;
break}}Z||(Z=k.thumb||k.thumbDefault);Z&&(ka=f("<div/>").addClass("mvp-playlist-thumb").appendTo(A),d=k.alt?k.alt:k.title?k.title.replace(/"/g,"'"):"image",f(new Image).addClass("mvp-thumbimg").appendTo(ka).attr({src:Z,alt:d}),k.hoverPreview&&(-1<k.hoverPreview.indexOf(".gif")?k.hoverPreviewImg=k.hoverPreview:(k.hoverPreviewVideo=k.hoverPreview,f('<div class="mvp-playlist-thumb-preview"><video class="mvp-playlist-thumb-preview-video" loop="true" playsinline="true" preload="auto" muted="true" autoplay="true" src=""></video></div>').appendTo(ka))),
k.thumb=Z,-1<vf.indexOf("duration")&&k.duration&&f('<span class="mvp-playlist-duration">'+MVPUtils.formatTime(k.duration)+"</span>").appendTo(ka),b.displayWatchedPercentage&&f('<div class="mvp-media-watched-bg mvp-hidden"><div class="mvp-media-watched-progress"></div></div>').appendTo(ka))}if(k.title||k.description||k.publishedAt)for(ka=f('<div class="mvp-playlist-info"></div>').appendTo(A),he=vf.length,d=0;d<he;d++){var Xa=vf[d];if("title"==Xa&&k.title)Xa=k.title.replace(/"/g,"'"),A.attr("title",
Xa),f('<span class="mvp-playlist-title">'+Xa+"</span>").appendTo(ka);else if("date"==Xa&&k.date)Xa=new Date(k.date),Xa=Xa.getMonth()+1+"/"+Xa.getDate()+"/"+Xa.getFullYear(),f('<span class="mvp-playlist-published-date">'+Xa+"</span>").appendTo(ka);else if("description"==Xa&&k.description){Xa=k.description.replace(/"/g,"'");A.attr("data-description",Xa);var ci="";b.limitDescriptionText&&(ci=" mvp-playlist-description-clamp");f('<div class="mvp-playlist-description'+ci+'">'+Xa+"</div>").appendTo(ka)}}void 0!=
k.mediaId?A.attr("data-media-id",k.mediaId):k.path&&b.getWatchedPercentage&&A.attr("data-media-url",k.path);k.title&&(d=k.title.replace(/['"\|]/g,""),d=d.replace(/[^a-z\d,\s\.]+/gi,""),d=d.replace(/\s+/g," "),A.attr("data-safe-title",d),k.safeTitle=d);k.category&&A.attr("data-category",k.category);k.tag&&A.attr("data-tag",k.tag);k.customContent&&(A.append(k.customContent),delete k.customContent);if(Tc){di?di.after(A):zd?A.appendTo(H):H.children("div").eq(Db).before(A);var di=A}else A.appendTo(H);
if(jb&&b.addPlaylistEvents&&(A.on("click",wj),!ya))A.on("mouseenter",xj).on("mouseleave",yj)}else b.useStatistics&&void 0!=k.mediaId&&k.title&&(d=k.title.replace(/['"\|]/g,""),k.safeTitle=d);void 0!=dc&&(k.playlistId=dc);sa.splice(p,0,{id:p,type:t,data:k});Pg.push({id:p,type:t,data:k})}Rc=H;ei();Tc?(p=N.getCounter(),N.setPlaylistItems(T,!1),Db<=p&&(zd||N.reSetCounter(p+h)),wf&&!ya&&(ra=!0),wf&&(fc=!1,N.setCounter(Db,!1))):N.setPlaylistItems(T);fi()}function ei(){T=sa.length;if(jb){var a=0;H.find(".mvp-playlist-item").each(function(){f(this).attr("data-id",
a);sa[a].id=a;a++})}else for(a=0;a<T;a++)sa[a].id=a}function fi(){Oa=!1;if(!z){z=!0;if(I&&(vc=parseInt(I.attr("data-add-more-limit"),10),Ad=parseInt(I.attr("data-add-more-num-results"),10),wc=parseInt(I.attr("data-add-more-offset"),10),xf=I.attr("data-add-more-sort-order"),yf=I.attr("data-add-more-sort-direction"),zf=I.attr("data-encrypt-media-paths"),void 0!=I.attr("data-taxonomy")&&(Af=I.attr("data-taxonomy")),void 0!=I.attr("data-category")&&(Bf=I.attr("data-category")),void 0!=I.attr("data-tag")&&
(Cf=I.attr("data-tag")),void 0!=I.attr("data-match")&&(Df=I.attr("data-match")),void 0!=I.attr("data-add-more-on-total-scroll")&&(gc=!0),void 0!=I.attr("data-use-pagination")&&(Uc=Math.ceil(Ad/vc),Ad>vc))){ib=0;Qg(ib);var a;for(a=0;a<Uc;a++){var c=0==a?{page:0}:{page:null};Bd.push(c)}gi(ib)}jb&&""!=eb&&!hi&&("undefined"===typeof MVPPlaylistNavigation?(a=document.createElement("script"),a.type="text/javascript",a.src=MVPUtils.qualifyURL(b.sourcePath+b.playlist_navigation_js),a.onload=a.onreadystatechange=
function(){this.readyState&&"complete"!=this.readyState||ii()},a.onerror=function(){alert("Error loading "+this.src)},c=document.getElementsByTagName("script")[0],c.parentNode.insertBefore(a,c)):ii(),hi=!0);O.on("mousemove mousedown keypress DOMMouseScroll mousewheel touchmove MSPointerMove",Ng);f(q).trigger("setupDone",{instance:q,instanceName:b.instanceName});L.hide();b.createPlayer&&L.appendTo(O);Ga();ja.css("opacity",1);b.minimizeOnScroll&&(ji=MVPUtils.getElementOffsetTop(n[0]),Sa.on(Wh,function(){Cd||
(Cd=!0,b.minimizeOnScrollOnlyIfPlaying?na&&jd():jd(),setTimeout(function(){Cd=!1},100))}))}Vc&&!ge&&ki();if(jb&&0<T){"javascript"==b.gridType&&b.breakPointArr&&(li(),Rg=xc,H.find(".mvp-playlist-item").each(function(){if(0<Ya){var h=100/xc;f(this).css({marginLeft:0,marginTop:0,marginRight:Ya+"px",marginBottom:Ya+"px",width:"calc("+h+"% - "+Ya+"px)"})}else f(this).css({marginLeft:0,marginTop:0,marginRight:Ya+"px",marginBottom:Ya+"px",width:100/xc+"%"})}));"h"==Dd&&H.width(T*b.pi_size);var e=[];H.find(".mvp-thumbimg:not(.mvp-visible)").each(function(){e.push(f(this))});
var d=0;a=e.length;for(c=0;c<a;c++)setTimeout(function(){clearTimeout(this);e[d].addClass("mvp-visible");d++},50+50*c);b.displayWatchedPercentage&&jb&&Jj();"scroll"==eb&&"perfect-scrollbar"==b.playlistScrollType&&Ua&&Ua.updateScrollPosition()}if(!Sg&&!Tc&&0<T){if(void 0!=b.mediaId){b.mediaTitle?(a=H.find(".mvp-playlist-item[data-media-id="+b.mediaId+'][title="'+b.mediaTitle+'"]'),0==a.length&&(a=H.find(".mvp-playlist-item[data-media-id="+b.mediaId+"]")),delete b.mediaTitle):a=H.find(".mvp-playlist-item[data-media-id="+
b.mediaId+"]");a=H.children(".mvp-playlist-item").index(a);if(void 0==a||-1==a)return alert("No media with ID to load! LoadMedia failed."),!1;delete b.mediaId;N.processPlaylistRequest(a)}else a=b.activeItem,a>T-1&&(a=T-1),-1<a&&N.setCounter(a,!1);Sg=!0}Tc=!1;L.hide();Va&&(Va=!1,"buttons"==eb&&Ua&&Ua.showButtons("forward"));Qa&&(sb?hb?Qa.css("opacity",1):(Qa.remove(),Qa=null,sb=!1):gc?0<Ad&&(Ad>wc?Qa.css("opacity",1):(Qa.remove(),Qa=null,gc=!1)):(Qa.remove(),Qa=null));f(q).trigger("playlistEndLoad",
{instance:q,instanceName:b.instanceName,loadMoreOnTotalScroll:sb,addMoreOnTotalScroll:gc});"masonry"==b.gridType&&(Ef?H.masonry("reloadItems"):(H.prepend('<div class="mvp-grid-sizer"></div>'),n.addClass("mvp-masonry"),"undefined"===typeof f.fn.masonry&&console.log("Link to masonry.pkgd.min.js file missing in head tag!"),"function"!==typeof imagesLoaded&&console.log("Link to imagesloaded.pkgd.min file missing in head tag!"),Ef=H.masonry({itemSelector:".mvp-playlist-item"})),H.imagesLoaded(function(){Ef.masonry("layout")}))}
function li(){var a=n.width(),c,e=b.breakPointArr.length;for(c=0;c<e;c++){var d=b.breakPointArr[c];a>d.width&&(xc=d.column,Ya=d.gutter)}Tg.css({paddingTop:Ya+"px",paddingLeft:Ya+"px"})}function ii(){b.parent=q;b.wrapper=n;b.playlistHolder=X;b.playlistInner=Tg;b.playlistContent=H;Ua=new MVPPlaylistNavigation(b)}function Ff(){if(MVPUtils.isScrolledIntoView(n[0]))ra=Wc=!0,q.playMedia();else Sa.on(Gf,function(){Cd||(Cd=!0,MVPUtils.isScrolledIntoView(n[0])?(ra=Wc=!0,q.playMedia()):q.pauseMedia(),setTimeout(function(){Cd=
!1},250))})}function jd(a){"fullscreen"!=qa&&(!a&&MVPUtils.getScrollTop()>ji?ja.hasClass(b.minimizeClass)||(ja.addClass(b.minimizeClass),b.hidePlaylistOnMinimize&&b.playlistOpened&&(b.playlistOpened=!1)):ja.hasClass(b.minimizeClass)&&(ja.removeClass(b.minimizeClass),b.hidePlaylistOnMinimize&&!b.playlistOpened&&(b.playlistOpened=!0)),Ga())}function ie(){Ug=!1;"youtube_single"==g.type?g.type="youtube":"vimeo_single"==g.type&&(g.type="vimeo");l=g.type;"audio"!=l&&"video"!=l||!Array.isArray(g.path)?M=
g.path:(Bg(),b.hideQualityMenuOnSingleQuality&&1==je.length||je.length&&w(je,g.quality));-1!=M.indexOf("ebsfm:")&&(M=MVPUtils.b64DecodeUnicode(M.substr(6)));"hls"==l?(l="video",la="hls"):"dash"==l&&(l="video",la="dash");yc=!1;if(!K&&!Ed)if("audio"==l){if(!Xc||b.displayPosterOnMobile)g.slideshowImages?yc=!0:g.poster&&(yc=!0)}else"video"==l||"youtube"==l||"vimeo"==l?g.poster&&!b.autoPlayInViewport&&(yc=!0):("custom"==l||"custom_html"==l)&&g.poster&&(yc=!0);g.pwd?!b.autoPlay&&yc?ke():(Qb.addClass("mvp-holder-visible-top").css("display",
"block"),setTimeout(function(){Qb.removeClass("mvp-holder-visible-top")},20)):"0"!=g.lockTime||ud?!b.autoPlay&&yc?ke():oa():td("watch");"lightbox"!=b.playerType||Zb||(Zb=!0,Ka.css("display","block"),Ga(),1!=Ka.css("opacity")&&setTimeout(function(){clearTimeout(this);Ka.css("opacity",1)},50));if(b.scrollToPlayer&&"lightbox"!=b.playerType){delete b.scrollToPlayer;var a=O.offset().top;f("html,body").animate({scrollTop:a},500)}}function Bg(){je=[];var a,c=g.path.length;var e=g.quality;e||(e=g.path[0].quality);
g.quality=e;for(a=0;a<c;a++){var d=g.path[a];je.push(d.quality);var h;a:for(h in d)if(d[h]==e){"audio"==l?mi&&d.wav?M=d.wav:mi&&"wav"==d.ext?M=d.src:ni&&d.mp3?M=d.mp3:ni&&"mp3"==d.ext&&(M=d.src):"video"==l&&(oi&&d.mp4?M=d.mp4:oi&&"mp4"==d.ext&&(M=d.src));break a}}-1!=M.indexOf("ebsfm:")&&(M=MVPUtils.b64DecodeUnicode(M.substr(6)))}function ke(){Y||(Y=f('<div class="mvp-poster-holder"/>').appendTo(U));if("audio"==l)fc=!0,g.slideshowImages?(Y.empty().show(),kb||(kb=new MVPImageSlideshow({holder:Y,settings:b,
media:g})),kb.setData(g),ra?oa():ca.show()):f(new Image).addClass("mvp-media").appendTo(Y.empty().show()).on("load",function(){V=f(this);V.addClass("mvp-visible mvp-media-img");b.displayPosterOnMobile||(ra?oa():(ca.show(),K&&lb.show()))}).on("error",function(c){console.log(c)}).attr({src:g.poster,alt:g.title});else if("video"==l||"youtube"==l||"vimeo"==l)Ja.css("display","none").removeClass("mvp-player-controls-visible"),fc=fb=!0,f(new Image).addClass("mvp-media").appendTo(Y.empty().show()).on("load",
function(){V=f(this);V.addClass("mvp-visible mvp-media-img");L.hide();b.displayPosterOnMobile||(ca.show(),K&&lb.show())}).on("error",function(c){console.log(c)}).attr({src:g.poster,alt:g.title});else if("custom"==l||"custom_html"==l)Ja.css("display","none").removeClass("mvp-player-controls-visible"),fc=fb=!0,f(new Image).addClass("mvp-media").appendTo(Y.empty().show()).on("load",function(){V=f(this);V.addClass("mvp-visible mvp-media-img");L.hide();ca.show()}).on("error",function(c){console.log(c)}).attr({src:g.poster,
alt:g.title});if(b.showControlsBeforeStart&&(pi(),g.duration&&!K)){le||(b.createAdMarkers&&qb.length&&Th(g.duration),le=!0);zc.html(MVPUtils.formatTime(g.duration));Fa(g.playbackRate||1);var a=setInterval(function(){$e&&qd&&be&&(clearInterval(a),Ja.css("display","block"),Ja.one("transitionend",function(){fb=!1}).addClass("mvp-player-controls-visible"),Bb&&Ob.addClass("mvp-holder-visible"))},100)}}function Kj(){Y||(Y=f('<div class="mvp-poster-holder"/>').appendTo(U));f(new Image).addClass("mvp-media").appendTo(Y.empty().show()).on("load",
function(){V=f(this);V.addClass("mvp-visible mvp-media-img")}).on("error",function(a){console.log(a)}).attr({src:g.poster,alt:g.title})}function oa(){"audio"==l||!V&&!g.slideshowImages||R||(b.showPosterOnPause?Y.hide():(Y.hide().empty(),V=null),ca.hide(),L.show());if(g.is360){if("undefined"===typeof THREE){var a=document.createElement("script");a.type="text/javascript";var c=MVPUtils.relativePath(b.three_js)?b.three_js:MVPUtils.qualifyURL(b.sourcePath+b.three_js);a.src=c;a.onload=a.onreadystatechange=
function(){if(!this.readyState||"complete"==this.readyState)if("undefined"===typeof THREE.OrbitControls){var k=document.createElement("script");k.type="text/javascript";var t=MVPUtils.relativePath(b.orbitControls_js)?b.orbitControls_js:MVPUtils.qualifyURL(b.sourcePath+b.orbitControls_js);k.src=t;k.onload=k.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||oa()};k.onerror=function(){alert("Error loading "+this.src)};t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(k,
t)}else oa()};a.onerror=function(){alert("Error loading "+this.src)};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c);return}if("undefined"===typeof THREE.OrbitControls){a=document.createElement("script");a.type="text/javascript";c=MVPUtils.relativePath(b.orbitControls_js)?b.orbitControls_js:MVPUtils.qualifyURL(b.sourcePath+b.orbitControls_js);a.src=c;a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||oa()};a.onerror=function(){alert("Error loading "+
this.src)};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c);return}}if("hls"!=la||Hf){if("dash"==la){if(!qi){"undefined"===typeof dashjs?(a=document.createElement("script"),a.type="text/javascript",c=MVPUtils.relativePath(b.dash_js)?b.dash_js:MVPUtils.qualifyURL(b.sourcePath+b.dash_js),a.src=c,a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(ri(),oa())},a.onerror=function(){alert("Error loading "+this.src)},c=document.getElementsByTagName("script")[0],
c.parentNode.insertBefore(a,c)):(ri(),oa());return}}else if("audio"==l&&Xc&&!b.displayPosterOnMobile&&"undefined"===typeof MVPAudioEqualizer){me||(me=f('<canvas class="mvp-canvas-audio mvp-media"/>').prependTo(U));a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(b.sourcePath+b.equalizer_js)+"?="+Math.random();a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(tb=new MVPAudioEqualizer({holder:U,canvas:me[0]}),oa())};a.onerror=
function(){alert("Error loading "+this.src)};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c);return}fc&&(aa=g.start||0,fc=!1);Ed&&!K&&(aa=Ed,Ed=null);if(void 0==b.playbackPositionTime||K){("audio"==l||"video"==l||"youtube"==l&&"chromeless"==b.youtubePlayerType&&ra&&si||"vimeo"==l&&"chromeless"==Ca&&ra&&ti)&&L.show();if("audio"==l)ui||(Tb=f(document.createElement("audio")).attr("preload",b.preload),x=Tb[0],ui=!0),If=!1,x.src=M,Tb.on("ended",function(){Ac()}).on("loadedmetadata",
function(){setTimeout(function(){If||Tb.trigger("canplay")},1E3)}).on("canplay",function(){if(!If){If=!0;ta();g.playbackRate&&(x.playbackRate=Number(g.playbackRate));Fa(x.playbackRate);aa?x.currentTime=aa:g.start&&(x.currentTime=g.start);if(ra||null!=aa){var k=x.play();void 0!==k&&k.then(function(){})["catch"](function(t){ca.show();L.hide()})}else ca.show(),L.hide();K&&lb.show();aa=null;b.autoPlayInViewport&&!Wc&&Ff()}}).on("play",function(){Jf()}).on("pause",function(){ne()}).on("ratechange",function(){Fa(x.playbackRate)}).on("error",
function(k){console.log(k);f(q).trigger("mediaError",{instance:q,instanceName:b.instanceName,media:g})}),ra&&x.load();else if("video"==l){g.posterFrameTime&&(M+="#t="+g.posterFrameTime);Kf=!1;vi||(Eb||(Eb=f('<div class="mvp-video-holder"/>').prependTo(U)),a=" playsinline",b.useMobileNativePlayer&&(a=""),Eb.html('<video class="mvp-media" preload="'+b.preload+'"'+a+"></video>"));Za=Eb.find(".mvp-media");u=Za[0];g.is360?Eb.hide():Eb.show();if(hc&&g.is360)if("file:"==window.location.protocol&&console.log("Playing 360 videos requires online server connection!"),
"monoscopic"==g.vrMode)wi||(wi=!0,ic=new THREE.WebGLRenderer({antialias:!0}),ic.setPixelRatio(window.devicePixelRatio),ic.setSize(640,360),ic.domElement.className+="mvp-canvas-video mvp-canvas-video-m mvp-media",U.prepend(f(ic.domElement)),Fb=U.find(".mvp-canvas-video-m"),Vg=new THREE.Texture(u),Wg=new THREE.Scene,a=new THREE.SphereGeometry(500,60,40),a.scale(-1,1,1),c=new THREE.MeshBasicMaterial({map:Vg}),a=new THREE.Mesh(a,c),Wg.add(a),Lf||(Lf=!0,va=new THREE.PerspectiveCamera(75,640/360,1,1100),
va.position.x+=.1,!Xg&&ya&&"stereoscopic"==g.vrModeOrig&&b.enablePerspectiveWhenVrNotAvailable&&("function"!==typeof THREE.DeviceOrientationControls?oe=new THREE.DeviceOrientationControls(va):alert("DeviceOrientationControls missing"))),Mf||(Mf=!0,Ea=new THREE.OrbitControls(va,U[0]),Ea.enableZoom=!1,Ea.enableKeys=!1));else if("stereoscopic"==g.vrMode&&!xi){xi=!0;ia=new THREE.WebGLRenderer({antialias:!0});ia.setPixelRatio(window.devicePixelRatio);ia.setSize(640,360);ia.xr.enabled=!0;ia.xr.setReferenceSpaceType("local");
ia.domElement.className+="mvp-canvas-video mvp-canvas-video-s mvp-media";U.prepend(f(ia.domElement));Gb=U.find(".mvp-canvas-video-s");Nf=new THREE.Texture(u);Of=new THREE.Scene;a=new THREE.SphereGeometry(500,60,40);a.scale(-1,1,1);c=a.attributes.uv.array;for(var e=0;e<c.length;e+=2)c[e]*=.5;c=new THREE.MeshBasicMaterial({map:Nf});a=new THREE.Mesh(a,c);a.rotation.y=-Math.PI/2;a.layers.set(1);Of.add(a);a=new THREE.SphereGeometry(500,60,40);a.scale(-1,1,1);c=a.attributes.uv.array;for(e=0;e<c.length;e+=
2)c[e]*=.5,c[e]+=.5;c=new THREE.MeshBasicMaterial({map:Nf});a=new THREE.Mesh(a,c);a.rotation.y=-Math.PI/2;a.layers.set(2);Of.add(a);yi||(yi=!0,Bc=new THREE.PerspectiveCamera(70,640/360,1,2E3),Bc.layers.enable(1),"function"!==typeof THREE.DeviceOrientationControls?oe=new THREE.DeviceOrientationControls(Bc):alert("DeviceOrientationControls missing"))}Za.on("ended",function(){Ac()}).on("loadedmetadata",function(){setTimeout(function(){Kf||Za.trigger("canplay")},1E3)}).on("canplay",function(){if(!Kf){Kf=
!0;b.selectorInit&&!rb&&(P=Cb,rb=!0);ta();g.playbackRate&&(u.playbackRate=Number(g.playbackRate));Fa(u.playbackRate);aa?u.currentTime=aa:g.start&&(u.currentTime=g.start);if(ra||null!=aa){var k=u.play();void 0!==k&&k.then(function(){})["catch"](function(t){ca.show();L.hide()})}else ca.show(),L.hide();K&&lb.show();aa=null;b.autoPlayInViewport&&!Wc&&Ff();(Xh||u.webkitSupportsPresentationMode&&"function"===typeof u.webkitSetPresentationMode)&&Fd.show();if(qc)if("hls"==la)if(sc)db.attachMedia(ea);else if("true"==
ea.canPlayType("application/vnd.apple.mpegurl"))ea.src=M;else if(g.mp4)ea.src=g.mp4,ea.load();else try{ea.src=M,ea.load()}catch(t){console.log("This browser or device does not support HLS extension. Please use mp4 video for playback!")}else"dash"==la?pe?zi?sd.attachSource(M):(sd.initialize(ea,M,!0),zi=!0):g.mp4?(ea.src=g.mp4,ea.load()):console.log("This browser or device does not support MPEG-DASH extension. Please use mp4 video for playback!"):(ea.src=M,ea.load())}}).on("canplaythrough",function(){Za.addClass("mvp-visible")}).on("waiting",
function(){"hls"!=la&&"dash"!=la&&"loop"!=b.mediaEndAction&&L.show()}).on("playing",function(){L.hide()}).on("play",function(){Jf()}).on("pause",function(){u.duration!=u.currentTime&&ne()}).on("seeking",function(){L.show()}).on("seeked",function(){L.hide();hc&&g.is360&&(Hb=!0)}).on("ratechange",function(){Fa(u.playbackRate)}).on("error",function(k){switch(k.target.error.code){case k.target.error.MEDIA_ERR_ABORTED:console.log("You aborted the video playback.");break;case k.target.error.MEDIA_ERR_NETWORK:console.log("A network error caused the video download to fail part-way.");
break;case k.target.error.MEDIA_ERR_DECODE:console.log("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");break;case k.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:console.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");break;default:console.log("An unknown error occurred.")}});if("hls"==la)if(sc)Q.attachMedia(u);else if("true"==u.canPlayType("application/vnd.apple.mpegurl"))u.src=
M;else if(g.mp4)u.src=g.mp4,u.load();else try{u.src=M,u.load()}catch(k){alert("This browser or device does not support HLS extension. Please use mp4 video for playback!")}else"dash"==la?pe?Ai?wa.attachSource(M):(wa.initialize(u,M,ra),Ai=!0):g.mp4?(u.src=g.mp4,u.load()):alert("This browser or device does not support MPEG-DASH extension. Please use mp4 video for playback!"):(u.src=M,u.load());vi=!0}else if("image"==l)qe||(qe=f('<div class="mvp-image-holder"/>').prependTo(U).hide()),g.is360?("file:"==
window.location.protocol&&console.log("Playing 360 video and images requires online server connection!"),Bi||(re=new THREE.Scene,a=new THREE.SphereBufferGeometry(500,60,40),a.scale(-1,1,1),Yg=new THREE.TextureLoader,Zg=new THREE.MeshBasicMaterial({map:Yg}),Ci=new THREE.Mesh(a,Zg),re.add(Ci),Ib=new THREE.WebGLRenderer,Ib.setPixelRatio(window.devicePixelRatio),Ib.setSize(640,360),Ib.domElement.className+="mvp-canvas-image mvp-media",U.prepend(f(Ib.domElement)),Yc=U.find(".mvp-canvas-image"),Lf||(Lf=
!0,va=new THREE.PerspectiveCamera(90,640/360,.1,1E4),va.position.x+=.1),Mf||(Mf=!0,Ea=new THREE.OrbitControls(va,U[0]),Ea.enableZoom=!1,Ea.enableKeys=!1),Bi=!0),Yg.load(M,function(k){Yc.show();Yc.addClass("mvp-visible");Zg.map=k;k=U.width();var t=U.height();Ib.setSize(k,t);va.aspect=k/t;va.updateProjectionMatrix();Ea.addEventListener("change",Pf);Ib.render(re,va);na=R=!0;b.autoRotatePanorama&&(Ea.autoRotate=!0,Ea.autoRotateSpeed=b.autoRotateSpeed,Hb=!0,fa&&cancelAnimationFrame(fa),fa=requestAnimationFrame(se));
Jb&&setTimeout(function(){Jb.show(300);Zc=!0},1E3);Qf=!0;g.duration&&(Gd=(new Date).getTime(),Ub=1E3*g.duration,ub&&clearTimeout(ub),ub=setTimeout(function(){clearTimeout(this);bc||cc||Ac()},Ub))},function(k){},function(k){})):(L.show(),f(new Image).addClass("mvp-media mvp-media-img").prependTo(qe.show()).on("load",function(){L.hide();Rf=f(this);Rf.addClass("mvp-visible");na=R=!0;g.duration&&(Gd=(new Date).getTime(),Ub=1E3*g.duration,ub&&clearTimeout(ub),ub=setTimeout(function(){clearTimeout(this);
bc||cc||Ac()},Ub))}).on("error",function(k){console.log(k)}).attr({src:M,alt:M})),K?g.duration&&(te.show(),ue=$g.width(),lb.find(".mvp-volume-toggle").hide(),lb.show(),ma&&(clearInterval(ma),ma=null),ma=setInterval(pc,500)):(Ja.css("display","block"),Qc&&clearTimeout(Qc),Ng());else if("youtube"==l){if(Di)Sf&&(a=0,aa?a=aa:g.start&&(a=g.start),ra?E.loadVideoById({videoId:M,startSeconds:a,endSeconds:g.end}):E.cueVideoById({videoId:M,startSeconds:a,endSeconds:g.end}));else{var d="ytplayer"+Math.floor(16777215*
Math.random());Cc=f('<div class="mvp-youtube-holder"><div id="'+d+'" class="mvp-media mvp-emiframe"></div></div>').css("display","block").prependTo(U);var h={height:"100%",width:"100%",playerVars:{controls:"chromeless"==b.youtubePlayerType?0:1,modestbranding:1,playsinline:b.useMobileNativePlayer?0:1,rel:0,wmode:"transparent",iv_load_policy:3,cc_load_policy:0,showinfo:0,disablekb:1,color:b.youtubePlayerColor},videoId:M,events:{onReady:Lj,onPlaybackQualityChange:Mj,onPlaybackRateChange:Nj,onStateChange:Oj,
onError:Pj}};a=window.location.href.split("/");a=a[0]+"//"+a[2];/^http/.test(a)&&(h.playerVars.origin=a);aa?h.playerVars.start=aa:g.start&&(h.playerVars.start=parseInt(g.start,10));g.end&&(h.playerVars.end=parseInt(g.end,10));console.log(h);window.YT||(c=document.createElement("script"),c.src=b.youtube_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(c,a));var p=setInterval(function(){window.YT&&window.YT.Player&&(p&&clearInterval(p),E=new YT.Player(d,h))},100);Di=!0}Cc.show()}else"vimeo"==
l?(Ca="chromeless"==b.vimeoPlayerType?g.userAccount?"basic"==g.userAccount?"default":"chromeless":"chromeless":"default","default"==Ca?Ei?(vb=ve,$c=we,B=Fi,Gi&&(vb.show(),B.loadVideo(M),setTimeout(function(){clearTimeout(this);Tf()},500))):(ve||(ve=f('<div class="mvp-vimeo-holder-default"/>').prependTo(U)),we=Hi("0"),ve.show().append(we),vb=ve,$c=we,window.Vimeo||(c=document.createElement("script"),c.src=b.vimeo_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(c,a)),p=setInterval(function(){if(window.Vimeo){p&&
clearInterval(p);B=Fi=new Vimeo.Player(we[0]);B.on("loaded",Tf);B.on("play",Ii);B.on("pause",Ji);B.on("ended",Ki);B.on("error",Li);if(ah)B.on("timeupdate",Mi);Gi=!0}},100),Ei=!0):Ni?(vb=xe,$c=ye,B=Oi,Pi&&(vb.show(),B.loadVideo(M),setTimeout(function(){clearTimeout(this);Tf()},500))):(xe||(xe=f('<div class="mvp-vimeo-holder-chromeless"/>').prependTo(U)),ye=Hi("1"),xe.show().append(ye),vb=xe,$c=ye,window.Vimeo||(c=document.createElement("script"),c.src=b.vimeo_js,a=document.getElementsByTagName("script")[0],
a.parentNode.insertBefore(c,a)),p=setInterval(function(){window.Vimeo&&(p&&clearInterval(p),B=Oi=new Vimeo.Player(ye[0]),B.on("loaded",Tf),B.on("play",Ii),B.on("pause",Ji),B.on("ended",Ki),B.on("error",Li),B.on("seeking",Qj),B.on("seeked",Rj),"chromeless"==Ca&&(B.on("playbackratechange",Sj),B.on("timeupdate",Mi)),Pi=!0)},100),Ni=!0)):"custom"==l?(L.show(),jc||(jc=f('<div class="mvp-custom-holder mvp-media"/>').prependTo(U)),jc.show().load(M,function(k,t,A){"error"==t?console.log(A.status+" "+A.statusText):
"success"==t&&(jc.addClass("mvp-visible"),L.hide(),R=!0)}),Ja.css("display","none").removeClass("mvp-player-controls-visible"),fb=!0):"custom_html"==l&&(L.show(),jc||(jc=f('<div class="mvp-custom-holder mvp-media"/>').prependTo(U)),a=kf.find(f("#"+M)).html(),jc.html(a).show().addClass("mvp-visible"),L.hide(),R=!0,Ja.css("display","none").removeClass("mvp-player-controls-visible"),fb=!0);Ug||bh||pi()}else console.log(aa),aa=b.playbackPositionTime,delete b.playbackPositionTime,L.hide(),Dg()}else"undefined"===
typeof Hls?(a=document.createElement("script"),a.type="text/javascript",c=MVPUtils.relativePath(b.hls_js)?b.hls_js:MVPUtils.qualifyURL(b.sourcePath+b.hls_js),a.src=c,a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(Qi(),oa())},a.onerror=function(){alert("Error loading "+this.src)},c=document.getElementsByTagName("script")[0],c.parentNode.insertBefore(a,c)):(Qi(),oa())}function pi(){if(K)f(q).trigger("adRequest",{instance:q,instanceName:b.instanceName,media:g});
else{bh=!0;if(ad){var a=0;ad.find(".mvp-annotation").each(function(){var d=f(this).clone().attr("data-id",a).appendTo(wb);if(d.hasClass("mvp-adsense-detail")){var h='<ins class="adsbygoogle" style="display:inline-block;';void 0!=d.attr("data-width")&&void 0!=d.attr("data-height")&&(h+="width:"+d.attr("data-width")+"px;height:"+d.attr("data-height")+"px;");ans+='"';ans+=' data-ad-client="'+d.attr("data-ad-client")+'" data-ad-slot="'+d.attr("data-ad-slot")+'"></ins>';f(h).prependTo(d);Uf=!0}else d.hasClass("mvp-adsense-code")&&
(Uf=!0);Dc.push({id:a,start:isNaN(parseInt(d.attr("data-show"),10))?0:parseInt(d.attr("data-show"),10),end:isNaN(parseInt(d.attr("data-hide"),10))?1E5:parseInt(d.attr("data-hide"),10),item:d});a++});wb.show();if(Uf)if("undefined"===typeof adsbygoogle){if("file:"!=window.location.protocol){var c=document.createElement("script");c.type="text/javascript";var e=MVPUtils.relativePath(b.adsbygoogle_js)?b.adsbygoogle_js:MVPUtils.qualifyURL(b.sourcePath+b.adsbygoogle_js);c.src=e;c.onload=c.onreadystatechange=
function(){this.readyState&&"complete"!=this.readyState||wb.find(".adsbygoogle").each(function(){(adsbygoogle=window.adsbygoogle||[]).push({})})};c.onerror=function(){alert("Error loading "+this.src)};e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e)}}else wb.find(".adsbygoogle").each(function(){(adsbygoogle=window.adsbygoogle||[]).push({})})}if("audio"==l||"video"==l||"youtube"==l&&"chromeless"==b.youtubePlayerType||"vimeo"==l&&"chromeless"==Ca)g.subtitles?($e=!1,Ph()):
$e=!0,g.chapters?(qd=!1,sj(),pb.addClass("mvp-seekbar-chapters")):qd=!0,!ya&&g.previewSeek?"auto"==g.previewSeek&&"video"==l?(qc=be=!0,tj()):(be=!1,uj()):(be=!0,qc=!1);"loop"!=b.mediaEndAction&&b.upNextTime&&!Vf&&(c=N.getNextCounter(1),"undefined"!==typeof c&&(c=sa[c].data,c.thumb||c.title))&&(c.thumb?Wf.css({"background-image":"url("+encodeURI(c.thumb)+")",display:"block"}):Wf.css("display","none"),c.title&&ch.html(c.title),c.duration?dh.show().html(MVPUtils.formatTime(c.duration)):dh.hide().html(""),
$a.addClass("mvp-upnext-on"));g.title&&(Ri.html(g.title),Hd.show(),b.showVideoTitle&&Xf.html(g.title).addClass("mvp-visible"));g.description&&(Si.html(g.description),Hd.show());Tj&&g.download&&(b.restrictDownloadForLoggedInUser&&!b.isUserLoggedIn||!eh?Id.show():Id.show().find("a").attr({href:g.download,download:""}));"audio"==l||"video"==l||"youtube"==l&&"chromeless"==b.youtubePlayerType||"vimeo"==l&&"chromeless"==Ca?(g.liveStream?(bd.hide(),Jd.hide(),zc.hide(),pb.hide(),Ti.show()):(bd.show(),Jd.show(),
zc.show(),pb.show()),xb.show(),ze.show(),Yf.show(),Ae.show(),Be.show(),Ce.show()):(xb.hide(),ze.hide(),bd.hide(),Jd.hide(),zc.hide(),pb.hide(),Yf.hide(),Ae.hide(),Be.hide(),Ce.hide())}}function Lj(a){Sf=!0;cd||(cd=Cc.find(".mvp-emiframe"),"chromeless"==b.youtubePlayerType&&b.forceYoutubeChromeless&&cd.addClass("mvp-yt-clean"));cd.addClass("mvp-visible");b.selectorInit&&!rb&&(P=Cb,rb=!0);ta();ra?E.playVideo():((null!=aa||g.poster)&&E.playVideo(),cd.addClass("mvp-visible"));K&&"chromeless"==b.youtubePlayerType&&
lb.show();b.autoPlayInViewport&&!Wc&&Ff()}function Mj(a){lc(a.data)}function Nj(a){Fa(a.data)}function Oj(a){Cc.is(":visible")&&(-1==a.data?K&&"chromeless"==b.youtubePlayerType&&lb.show():0==a.data?Ac():1==a.data?(Zf||(aa=null,g.playbackRate&&1!=g.playbackRate?E.setPlaybackRate(Number(g.playbackRate)):"chromeless"==b.youtubePlayerType&&Fa(1),b.blockYoutubeEvents&&($f||($f=f('<div class="mvp-iframe-blocker"></div>').css("display","block").appendTo(Cc))),Zf=!0),$f&&!g.is360&&$f.css("display","block"),
Jf(),si=!0):2==a.data?ne():3==a.data?cd.addClass("mvp-visible"):5==a.data&&(ra||cd.addClass("mvp-visible")))}function Pj(a){switch(a.data){case 2:console.log("Error code = "+a.data+": The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.");break;case 100:console.log("Error code = "+a.data+": Video not found, removed, or marked as private");
break;case 101:console.log("Error code = "+a.data+": Embedding disabled for this video");break;case 150:console.log("Error code = "+a.data+": Video not found, removed, or marked as private [same as error 100]")}}function Hi(a){var c=MVPUtils.rgbToHex(b.vimeoPlayerColor);"#"==c.charAt(0)&&(c=c.substr(1));var e="1";b.useMobileNativePlayer&&(e="0");var d=ra?"1":"0",h="loop"==b.mediaEndAction?"1":"0",p="player"+Math.floor(16777215*Math.random());c="?color="+c;h="&loop="+h;e="&playsinline="+e;d="&autoplay="+
d;a="&background="+a;ra&&(d=b.autoPlayInViewport?"&autoplay=0":!0);-1<M.indexOf("/")&&(M=M.substr(0,M.indexOf("/")));c="https://player.vimeo.com/video/"+M+c+"&byline=1&portrait=1&title=1&autopause=1"+e+h+"&dnt=1"+a+"&speed=1&muted=0"+d;b.vimeoNoCookie&&(c+="&dnt=1");g.quality&&(c+="&quality="+g.quality);return f("<iframe/>",{id:p,frameborder:0,src:c,width:"100%",height:"100%",webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}).addClass("mvp-media mvp-emiframe")}
function Ii(){if(!ag){$c.addClass("mvp-visible");if(g.start||aa){if(aa)var a=aa;else g.start&&(a=g.start);aa=null;B.setCurrentTime(a).then(function(c){})["catch"](function(c){console.log(c.name)})}g.playbackRate&&1!=g.playbackRate&&B.setPlaybackRate(g.playbackRate).then(function(c){})["catch"](function(c){});ag=!0}Jf();ti=!0}function Ji(){l&&"vimeo"!=l||ne()}function Sj(a){Fa(a.playbackRate)}function Tf(){b.selectorInit&&!rb&&(P=Cb,rb=!0);ta();b.blockVimeoEvents="default"==Ca?!1:!0;b.blockVimeoEvents&&
(bg||(bg=f('<div class="mvp-iframe-blocker"></div>').css("display","block").appendTo(vb)),g.is360?bg.css("display","none"):bg.css("display","block"));ra||null!=aa?B.play().then(function(){})["catch"](function(a){"chromeless"==Ca&&(ca.show(),L.hide());$c.addClass("mvp-visible")}):("chromeless"==Ca&&(ca.show(),L.hide()),$c.addClass("mvp-visible"));K&&"chromeless"==Ca&&lb.show();b.autoPlayInViewport&&!Wc&&Ff()}function Mi(a){Lb=a.duration;dd=a.seconds;De=a.percent}function Ki(){Ac()}function Qj(){L.show()}
function Rj(){L.hide()}function Li(a){console.log("Vimeo Player Error!",a)}function Pf(){"image"==l&&g.is360&&Ib.render(re,va);Zc&&(Zc=!1,setTimeout(function(){clearTimeout(this);Jb.hide(300)},2E3))}function se(){Hb&&("image"==l?(Ea.update(),fa=requestAnimationFrame(se)):"monoscopic"==g.vrMode?(oe&&oe.update(),ic.render(Wg,va),Za.readyState===Za.HAVE_ENOUGH_DATA&&(Vg.needsUpdate=!0),fa=requestAnimationFrame(se)):(oe.update(),ia.render(Of,Bc),Za.readyState===Za.HAVE_ENOUGH_DATA&&(Nf.needsUpdate=!0)))}
function Qi(){Q=new Hls;sc=Hls.isSupported();Hf=!0;sc&&(Q.subtitleDisplay=!1,Q.subtitleTrack=-1,Q.on(Hls.Events.MEDIA_ATTACHED,function(){Q.loadSource(M)}),Q.on(Hls.Events.MANIFEST_PARSED,function(a,c){if(b.showStreamVideoBitrateMenu&&!Ee){Ee=!0;var e=[],d,h=c.levels.length;for(d=0;d<h;d++){var p=c.levels[d];p.width&&e.push({label:p.width+"x"+p.height+", "+Math.ceil(Math.round(p.bitrate/1E3))+"kbps",value:d.toString()})}e.push({label:"auto",value:"-1",selected:!0});b.hideQualityMenuOnSingleQuality&&
1==e.length||w(e,"-1")}}),Q.on(Hls.Events.MANIFEST_LOADED,function(a,c){}),Q.on(Hls.Events.LEVEL_LOADED,function(a,c){}),Q.on(Hls.Events.AUDIO_TRACKS_UPDATED,function(a,c){if(b.showStreamAudioBitrateMenu&&!Fe){Fe=!0;var e=Q.audioTracks,d=e.length;if(1<d){var h;for(h=0;h<d;h++){var p=e[h];var k=p.groupId+" - "+p.name;p=p.id.toString();f("<li/>").addClass("mvp-menu-item").attr({"data-value":p,"data-label":k}).text(k).on("click",Oh).appendTo(cg)}dg=!0;Ui.show();fh.removeClass("mvp-force-hide")}}}),Q.on(Hls.Events.AUDIO_TRACK_SWITCHED,
function(a,c){if(dg){var e=c.id;eg&&eg.removeClass("mvp-menu-active");eg=cg.find(".mvp-menu-item[data-value='"+e+"']").addClass("mvp-menu-active");W.find(".mvp-audio-language-menu-value").text(eg.text())}}),Q.on(Hls.Events.AUDIO_TRACK_LOADED,function(a,c){}),Q.on(Hls.Events.SUBTITLE_TRACK_SWITCH,function(a,c){}),Q.on(Hls.Events.SUBTITLE_TRACK_LOADED,function(a,c){}),Q.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,function(a){a=Q.subtitleTracks.length;if(0<a&&!g.subtitles&&!gh){gh=!0;var c;g.subtitles=[];
for(c=0;c<a;c++){var e=Q.subtitleTracks[c];var d=c.toString();d={label:e.name,value:d,src:e.url};e["default"]&&(d["default"]=!0);g.subtitles.push(d)}Ph()}}),Q.on(Hls.Events.ERROR,function(a,c){if(c.fatal)switch(c.type){case Hls.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover");Q.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover");Q.recoverMediaError();break;default:Q.destroy()}}))}function ri(){wa=dashjs.MediaPlayer().create();
qi=!0;wa.setFastSwitchEnabled=!0;wa.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(a){if(b.showStreamVideoBitrateMenu&&!Ee){Ee=!0;var c=wa.getBitrateInfoListFor("video"),e=[],d=c.length;for(a=0;a<d;a++){var h=c[a];h.width&&e.push({label:h.width+"x"+h.height+", "+Math.ceil(Math.round(h.bitrate/1E3))+"kbps",value:h.qualityIndex.toString()})}e.push({label:"auto",value:"-1",selected:!0});b.hideQualityMenuOnSingleQuality&&1==e.length||w(e,"-1")}if(b.showStreamAudioBitrateMenu&&!Fe&&(Fe=!0,c=
wa.getBitrateInfoListFor("audio"),d=c.length,1<d)){for(a=0;a<d;a++)h=c[a],e=Math.ceil(Math.round(h.bitrate/1E3))+"kbps",h=h.qualityIndex.toString(),f("<li/>").addClass("mvp-menu-item").attr({"data-value":h,"data-label":e}).text(e).on("click",Oh).appendTo(cg);dg=!0;Ui.show();fh.removeClass("mvp-force-hide")}});wa.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,function(a){});wa.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(a){});wa.on(dashjs.MediaPlayer.events.TRACK_CHANGE_RENDERED,
function(a){});wa.on(dashjs.MediaPlayer.events.TEXT_TRACKS_ADDED,function(a){});wa.on(dashjs.MediaPlayer.events.ERROR,function(a){console.log("dashjs.MediaPlayer.events.ERROR "+a.error+" : "+a.event.message)});wa.on(dashjs.MediaPlayer.events.PLAYBACK_ERROR,function(a){})}function Kd(){Hb=!1;fa&&(cancelAnimationFrame(fa),fa=null);mb&&(ia&&ia.setAnimationLoop(null),mb=!1);ma&&(clearInterval(ma),ma=null);Sa.off(Gf);U.find(".mvp-media").removeClass("mvp-visible");Jb&&(Jb.hide(300),Zc=!1);fg.hide();Ea&&
(Ea.removeEventListener("change",Pf),Ea.reset(),Ea.autoRotate=!1);gg&&Vi();if("audio"==l)x&&(x.pause(),x.src=""),Tb&&Tb.off("ended pause play canplay ratechange loadedmetadata error"),Xc&&tb&&tb.clean(),g.slideshowImages&&kb&&kb.dispose();else if("video"==l){sc&&"hls"==la&&(Q&&(Q.detachMedia(),Q.off(),Q.destroy(),Q=null,Hf=!1),db&&(db.detachMedia(),db.off(),db.destroy()));pe&&"dash"==la&&wa&&wa.attachSource(null);hc&&g.is360&&("monoscopic"==g.vrMode?Fb&&Fb.hide():Gb&&Gb.hide());if(u){u.pause();try{u.currentTime=
0}catch(a){}u.src="";u=null}Za&&Za.off("ended loadedmetadata ratechange canplay canplaythrough waiting playing play pause error seeked");Eb&&Eb.hide()}else"image"==l?(ub&&(clearTimeout(ub),ub=null),g.is360?(Yc&&Yc.hide(),Qf=!1):(qe.hide().find(".mvp-media").remove(),Rf=null),Ub=Gd=null):"youtube"==l?E&&(Cc.hide(),Sf&&E.stopVideo(),Zf=!1):"vimeo"==l?(De=dd=Lb=0,B&&B.unload().then(function(){})["catch"](function(a){console.log(a)}),ag=!1,vb&&vb.hide()):"custom"!=l&&"custom_html"!=l||jc.empty().hide();
V&&(Y.hide().empty(),V=null);K&&(K=!1,Ec.removeClass("mvp-ad-skip-btn-visible"),te.hide(),hh.hide(),lb.hide(),lb.find(".mvp-volume-toggle").show(),hg.html(ih),ig=!1);wb.hide().empty();Dc=[];Uf=!1;Id.hide().find("a").attr("href","#").removeAttr("download");Ti.hide();Fd.hide();Zd.hide();Ob.css("display","none").removeClass("mvp-holder-visible");Xd.html("");Bb=!1;W.removeClass("mvp-holder-visible").css({display:"none",width:"auto",height:"auto"});W.find(".mvp-settings-menu").css("display","none");Lc.css("display",
"block");bd.html("00:00").hide();Jd.hide();zc.html("00:00").hide();Mb=null;jg.hide();Da.empty();pd=!1;Ab=[];af=[];Vb=pa=null;Vd.empty();Qh.addClass("mvp-force-hide");Nc.hide();Ye.empty();Nh.addClass("mvp-force-hide");cg.empty();fh.addClass("mvp-force-hide");gh=Fe=Ee=dg=!1;pa&&Da.removeClass("mvp-subtitle-visible");ba.hide();tc.removeClass("mvp-ad-info-start-visible mvp-ad-info-start-controls-align");ac=null;$b=[];zb.hide();Ag.css("background-image","none");qc&&(df=qc=!1,sc&&"hls"==la&&db&&db.detachMedia(),
pe&&"dash"==la&&sd&&sd.attachSource(null),ea&&(ea.pause(),ea.src=""),rd&&rd.clearRect(0,0,$d,ae));Sb=!1;Xf&&Xf.html("").removeClass("mvp-visible");ce.css("display","none").removeClass("mvp-holder-visible-top");Ri.html("");Si.html("");Hd.hide();bc=!1;ai.html("");de.css("display","none").removeClass("mvp-holder-visible-top");cc=!1;Zh.css("display","none").removeClass("mvp-holder-visible-top");$h.css("display","none").removeClass("mvp-holder-visible-top");gf=!1;ed.css("display","none").removeClass("mvp-holder-visible-top");
Ge=!1;ca.hide();xb.find(".mvp-btn-play").show();xb.find(".mvp-btn-pause").hide();$a.removeClass("mvp-upnext-on mvp-upnext-visible");Wf.css("background-image","none");ch.html("");dh.html("");Ia.removeClass("mvp-upnext-wrap2-visible");Kg.css("background-image","none");Lg.html("");Mg.html("");Qb.hide().removeClass("mvp-holder-visible-top");ef.val("");Wb&&Wb.hide();g=la=l=aa=null;kg=lg=fc=R=na=!1;jh.width(0);kh.width(0);Wi.width(0);Nb.width(0);ra||(Ja.css("display","none").removeClass("mvp-player-controls-visible"),
fb=!0)}function Xi(){console.log("cleanMediaForAdvert");Hb=!1;fa&&(cancelAnimationFrame(fa),fa=null);mb&&(ia&&ia.setAnimationLoop(null),mb=!1);ma&&(clearInterval(ma),ma=null);Sa.off(Gf);U.find(".mvp-media").removeClass("mvp-visible");Jb&&(Jb.hide(300),Zc=!1);fg.hide();Ea&&(Ea.removeEventListener("change",Pf),Ea.reset(),Ea.autoRotate=!1);if("audio"==l)x&&(x.pause(),x.src=""),Tb&&Tb.off("ended pause play canplay ratechange loadedmetadata error"),Xc&&tb&&tb.clean(),g.slideshowImages&&kb&&kb.dispose();
else if("video"==l){sc&&"hls"==la&&(Q&&(Q.detachMedia(),Q.off(),Q.destroy(),Q=null,Hf=!1),db&&(db.detachMedia(),db.off(),db.destroy()));pe&&"dash"==la&&wa&&wa.attachSource(null);hc&&g.is360&&("monoscopic"==g.vrMode?Fb&&Fb.hide():Gb&&Gb.hide());if(u){u.pause();try{u.currentTime=0}catch(a){}u.src="";u=null}Za&&Za.off("ended loadedmetadata ratechange canplay canplaythrough waiting playing play pause error seeked");Eb&&Eb.hide()}else"image"==l?(ub&&(clearTimeout(ub),ub=null),g.is360?(Yc&&Yc.hide(),Qf=
!1):(qe.hide().find(".mvp-media").remove(),Rf=null),Ub=Gd=null):"youtube"==l?E&&(Cc.hide(),Sf&&E.stopVideo(),Zf=!1):"vimeo"==l?(De=dd=Lb=0,B&&B.unload().then(function(){})["catch"](function(a){console.log(a)}),ag=!1,vb&&vb.hide()):"custom"!=l&&"custom_html"!=l||jc.empty().hide();V&&(Y.hide().empty(),V=null);K?(K=!1,Ec.removeClass("mvp-ad-skip-btn-visible"),te.hide(),hh.hide(),lb.hide(),lb.find(".mvp-volume-toggle").show(),hg.html(ih),ig=!1):(wb.is(":visible")&&(lh=!0,wb.hide()),pa&&(mh=!0,jg.hide()));
Mb=null;ba.hide();zb.hide();$a.removeClass("mvp-upnext-on mvp-upnext-visible");Ia.removeClass("mvp-upnext-wrap2-visible");Wb&&Wb.hide();g=la=l=aa=null;kg=lg=fc=R=na=!1;jh.width(0);kh.width(0);Ja.css("display","none").removeClass("mvp-player-controls-visible");fb=!0}function mg(){z&&l&&(Ta&&ff(),Kd(),N.reSetCounter(),Ja.removeClass("mvp-player-controls-visible"),"fullscreen"==qa&&(document.body.style.cursor="none"),fb=!0)}function jf(){"undefined"!==typeof f.fn.masonry&&Ef&&H.masonry("destroy");l&&
Kd();H.empty();T=0;N.reSetCounter();Sg=!1;wd="";Rc=null;Ua&&Ua.setScrollActive();Va=!1;qf=pf=of=sf=rf=nf=mf=lf=I=null;gc=sb=!1;sa=[];ua=[];Pa=[];He=Ie=zf=Df=Cf=Bf=Af=yf=xf=wc=Ad=vc=null;Bd=[]}function Xb(){if(z&&0!=T)if(g&&Pc(),jb&&nh){var a=H.find(".mvp-playlist-item-selected").nextAll(".mvp-playlist-item:not(.mvp-filter-hidden)").filter(":first");a.length?(a=a.attr("data-id"),N.setCounter(a,!1)):N.advanceHandler(1,!0)}else N.advanceHandler(1,!0)}function Pc(){R&&(b.useStatistics&&void 0!=Rb&&"custom"!=
l&&"custom_html"!=l&&oh("mvp_play_count",Rb),b.displayWatchedPercentage&&g&&"image"!=l&&R&&Yi())}function Yi(){if(!g.watchedComplete&&(void 0!=g.mediaId||void 0!=g.path)){var a=q.getCurrentTime(),c=q.getDuration(),e=[{name:"action",value:"mvp_set_watched_percentage"},{name:"playlist_id",value:dc},{name:"watched",value:a},{name:"duration",value:c}];g.mediaId?(e.push({name:"media_id",value:g.mediaId}),e.push({name:"url",value:g.safeTitle||""})):g.path&&(e.push({name:"url",value:g.path}),e.push({name:"media_id",
value:null}));console.log(e);a+.1>=c&&(sa[Rb].data.watchedComplete=!0);f.ajax({url:b.ajax_url,type:"post",data:e,dataType:"json"}).done(function(d){console.log(d);if(d){var h;d.media_id&&d.title?h=H.find('.mvp-playlist-item[data-media-id="'+d.media_id+'"][data-safe-title="'+d.title+'"]'):d.title&&(h=H.find('.mvp-playlist-item[data-media-url="'+d.title+'"]'));h.length&&(d=d.watched/d.duration*100,100<d&&(d=100),h.find(".mvp-media-watched-progress").width(d+"%"),h.find(".mvp-media-watched-bg").removeClass("mvp-hidden"))}}).fail(function(d,
h,p){console.log("Error mvp_set_watched_percentage: "+d.responseText,h,p)})}}function Jj(){console.log("getWatchedPercentage");var a,c=[];for(a=0;a<T;a++){var e=sa[a].data;e.watchedSet||(void 0!=e.mediaId?(c.push({media_id:e.mediaId,url:e.safeTitle||""}),e.watchedSet=!0):e.path&&(c.push({media_id:null,url:e.path}),e.watchedSet=!0))}c.length&&(a=[{name:"action",value:"mvp_get_watched_percentage"},{name:"data",value:JSON.stringify(c)}],console.log(a),f.ajax({url:b.ajax_url,type:"post",data:a,dataType:"json"}).done(function(d){console.log("response ",
d);if(d){var h,p=d.length,k;for(h=0;h<p;h++){var t=d[h];t.media_id&&t.title?k=H.find('.mvp-playlist-item[data-media-id="'+t.media_id+'"][data-safe-title="'+t.title+'"]'):t.title&&(k=H.find('.mvp-playlist-item[data-media-url="'+t.title+'"]'));if(k&&k.length){var A=t.watched/t.duration*100;100<A&&(A=100);t.watched+.1>=t.duration&&k.attr("data-watched-complete","1");k.find(".mvp-media-watched-progress").width(A+"%");k.find(".mvp-media-watched-bg").removeClass("mvp-hidden")}}}}).fail(function(d,h,p){console.log("Error mvp_get_watched_percentage: "+
d.responseText,h,p)}))}function Se(){z&&0!=T&&(g&&Pc(),N.advanceHandler(-1,!0))}function Jf(){L.hide();ca.hide();xb.find(".mvp-btn-play").hide();xb.find(".mvp-btn-pause").show();b.showPosterOnPause&&V&&V.one("transitionend",function(){na&&Y.hide()}).removeClass("mvp-visible");if(!R){setTimeout(function(){g&&g.is360&&Zi()},50);b.autoPlayAfterFirst&&(ra=!0);$i||"image"==l||($i=!0,od&&od.length&&0==P&&setTimeout(function(){od.addClass("mvp-unmute-toggle-visible").one("click touchend",function(d){ab();
return!1})},1E3));b.minimizeOnScroll&&b.minimizeOnScrollOnlyIfPlaying&&jd();if("audio"==l)if(Xc)if("file:"==window.location.protocol)console.log("Using Audio Equalizer requires server connection!");else if("undefined"===typeof tb)var a=setInterval(function(){tb&&(a&&clearInterval(a),tb.init(x),me.addClass("mvp-visible"))},100);else tb.init(x),me.addClass("mvp-visible");else g.slideshowImages&&kb&&kb.play();else if(hc&&g.is360){Jb&&setTimeout(function(){Jb.show(300);Zc=!0},1E3);var c=U.width(),e=U.height();
"monoscopic"==g.vrMode?(Fb.show(),Ea.addEventListener("change",Pf),ic.setSize(c,e),va.aspect=c/e,va.updateProjectionMatrix(),fa&&cancelAnimationFrame(fa),fa=requestAnimationFrame(se)):(Gb.show(),ia.setSize(c,e),Bc.aspect=c/e,Bc.updateProjectionMatrix(),ia.setAnimationLoop(se),mb=!0,fg.show(),setTimeout(function(){Jb.hide(300);Zc=!1},5E3));setTimeout(function(){"monoscopic"==g.vrMode?Fb.addClass("mvp-visible"):Gb.addClass("mvp-visible")},20);Hb=!0}c=K?"adStart":"mediaStart";f(q).trigger(c,{instance:q,
instanceName:b.instanceName,media:g});R=!0;K?(Ja.css("display","none").removeClass("mvp-player-controls-visible"),document.body.style.cursor="default",fb=!0,te.show()):(te.hide(),Ld&&Nb.width(Ld),Ld=null,Nb.removeClass("mvp-progress-sizing"),"youtube"==l&&"default"==b.youtubePlayerType||"vimeo"==l&&"default"==Ca||"custom"==l||"custom_html"==l?(Ja.css("display","none").removeClass("mvp-player-controls-visible"),document.body.style.cursor="default",fb=!0):Ja.css("display","block"),lh&&(lh=!1,wb.show()),
mh&&(mh=!1,jg.show()))}if(b.togglePlaybackOnMultipleInstances&&1<mvp_mediaArr.length)for(e=mvp_mediaArr.length,c=0;c<e;c++)q!=mvp_mediaArr[c].inst&&mvp_mediaArr[c].inst.pauseMedia();g.slideshowImages&&b.slideshowPauseWithAudio&&kb&&kb.play();if("audio"==l||"video"==l||"youtube"==l&&"chromeless"==b.youtubePlayerType||"vimeo"==l&&"chromeless"==Ca)ma&&(clearInterval(ma),ma=null),ma=setInterval(pc,500);K?f(q).trigger("adPlay",{instance:q,instanceName:b.instanceName,media:g}):f(q).trigger("mediaPlay",
{instance:q,instanceName:b.instanceName,media:g});Je&&"undefined"!==typeof ga&&(c=K?"AD played":"Video played",q.getCurrentTime(),ga("send",{hitType:"event",eventCategory:"Modern video player: "+b.instanceName,eventAction:c,eventLabel:"title: "+g.title+" | time: "+Math.round(q.getCurrentTime()),nonInteraction:!0}));na=!0;Qc&&clearTimeout(Qc);Ng()}function ne(){ma&&clearInterval(ma);L.hide();xb.find(".mvp-btn-play").show();xb.find(".mvp-btn-pause").hide();b.showPosterOnPause&&(V?(Y.show(),setTimeout(function(){V.addClass("mvp-visible")},
20)):yc&&Kj());g.slideshowImages&&b.slideshowPauseWithAudio&&kb&&kb.pause();R?("audio"==l||"video"==l||"youtube"==l&&"chromeless"==b.youtubePlayerType||"vimeo"==l&&"chromeless"==Ca)&&ca.show():"audio"!=l&&"video"!=l||ca.show();var a=K?"adPause":"mediaPause";f(q).trigger(a,{instance:q,instanceName:b.instanceName,media:g});if(Je&&"undefined"!==typeof ga){if(K){a="AD paused";var c="AD title: "+g.title+" | t: "+Math.round(q.getCurrentTime())}else a="Video paused",c="Video title: "+g.title+" | t: "+Math.round(q.getCurrentTime());
ga("send",{hitType:"event",eventCategory:"Modern video player: "+b.instanceName,eventAction:a,eventLabel:c,nonInteraction:!0})}if(K&&g.link)if(g.target&&"_blank"==g.target)window.open(g.link);else{a=g.link;mg();window.location=a;return}na=!1}function pc(a){if("undefined"!==typeof a||na){var c;if("audio"==l){if(x){var e=x.currentTime,d=x.duration;if("undefined"!==typeof x.buffered&&0!=x.buffered.length){try{var h=x.buffered.end(x.buffered.length-1)}catch(ka){}isNaN(h)||(c=h/Math.floor(x.duration))}}}else if("video"==
l){if(u&&(e=u.currentTime,d=u.duration,"undefined"!==typeof u.buffered&&0!=u.buffered.length)){try{h=u.buffered.end(u.buffered.length-1)}catch(ka){}isNaN(h)||(c=h/Math.floor(u.duration))}}else"youtube"==l?E&&(e=E.getCurrentTime(),d=E.getDuration(),c=E.getVideoLoadedFraction()):"vimeo"==l?(e=dd,d=Lb,c=De):"image"==l&&(c=1E3*g.duration,e=(new Date).getTime()-Gd,Ub-=e,0>Ub&&(Ub=0),Gd=(new Date).getTime(),e=(c-Ub)/1E3,d=g.duration,c=1);if(MVPUtils.isNumber(e)&&MVPUtils.isNumber(d)){a=e;0<d&&!K&&(Na.length&&
qd&&!Yd&&("audio"==l||"video"==l||"youtube"==l&&"chromeless"==b.youtubePlayerType||"vimeo"==l&&"chromeless"==Ca)&&(Sh(d),Yd=!0),le||(b.createAdMarkers&&qb.length&&Th(d),le=!0));a>Yb&&(Yb=a);if(K){lg||(ue=$g.width(),lg=!0);if(a!=Mb&&(Uj.html("&nbsp;(-"+MVPUtils.formatTime(d-a)+")"),0<a)){if(!ig&&(ig=!0,Ke=!1,Le=null,"undefined"!==typeof g.skipEnable)){Le=g.skipEnable;if(ng){if(h=N.getNextCounter(1),"undefined"!==typeof h&&(h=sa[h].data,h.thumb))var p=h.thumb}else Md.thumb&&(p=Md.thumb);p&&f('<img src="'+
p+'" alt="next"/>').appendTo(aj.empty().show());bj.show();Ec.addClass("mvp-ad-skip-btn-visible")}null==Le||Ke||(a<Le?hg.html(ih+"&nbsp;"+(Le-parseInt(a,10)).toString()):(Ke=!0,Ec.removeClass("mvp-ad-skip-btn-visible"),setTimeout(function(){aj.hide();bj.hide();hh.show();Ec.addClass("mvp-ad-skip-btn-visible")},500)))}c&&jh.width(c*ue);kh.width(e/d*ue)}else{kg||(Ma=bb.width(),kg=!0);if(a!=Mb){if((g.end||g.lockTime&&!ud)&&e>=(g.end||g.lockTime)){g.lockTime?(ma&&clearInterval(ma),Hb=!1,fa&&(cancelAnimationFrame(fa),
fa=null),mb&&(ia&&ia.setAnimationLoop(null),mb=!1),td("watch")):("loop"!=b.mediaEndAction&&"rewind"!=b.mediaEndAction&&(ma&&clearInterval(ma),Hb=!1,fa&&(cancelAnimationFrame(fa),fa=null),mb&&(ia&&ia.setAnimationLoop(null),mb=!1)),Ac());return}if(qb.length)for(h=qb.length,p=0;p<h;p++){var k=qb[p];tc.length&&a>k.begin-parseInt(b.adUpcomingMsgTime,10)&&(a>k.begin-1?tc.removeClass("mvp-ad-info-start-visible"):(tc.addClass("mvp-ad-info-start-visible"),Ja.hasClass("mvp-player-controls-visible")&&tc.addClass("mvp-ad-info-start-controls-align"),
Vj.html(parseInt(k.begin-a,10))));if(a>=k.begin&&a<k.begin+1){if(!k.played){Ld=Nb.width();Nb.addClass("mvp-progress-sizing");ma&&clearInterval(ma);Hb=!1;fa&&(cancelAnimationFrame(fa),fa=null);mb&&(ia&&ia.setAnimationLoop(null),mb=!1);k.played=!0;Ed=k.begin;b.playAdsOnlyOnce&&(qb[p].marker.remove(),qb.splice(p,1));Xi();g=k.data.type?k.data:og(k.data);K=!0;ie();return}}else a>k.begin+1&&(k.played=!1)}if(Dc.length)for(h=Dc.length,p=0;p<h;p++){k=Dc[p];var t=k.start;var A=k.end;k=k.item;a>=t&&a<=A-1?k.mvpvisible||
(k.hasClass("mvp-annotation-iframe")?(t=k.find("iframe"),t.attr("src",t.attr("data-src"))):k.hasClass("mvp-annotation-shortcode")&&!k.hasClass("mvp-annotation-shortcode-ready")&&"file:"!=window.location.protocol&&(t=k.addClass("mvp-annotation-shortcode-ready mvp-hidden").find(".mvp-annotation-shortcode-content").html(),Wj(k,t)),k.css("display","block"),k.mvpvisible=!0):k.mvpvisible&&(k.css("display","none"),k.hasClass("mvp-annotation-iframe")?k.find("iframe").attr("src","about:blank"):k.hasClass("mvp-annotation-shortcode"),
k.mvpvisible=!1)}if(pd&&Ab.length)for(h=Ab.length,p=0;p<h;p++)k=Ab[p],t=k.start,A=k.end,a>=t&&a<=A?pa||(pa=f('<div class="mvp-subtitle">'+k.text+"</div>"),Ja.hasClass("mvp-player-controls-visible")&&Da.addClass("mvp-subtitle-visible"),pa.start=t,pa.end=A,Da.append(pa)):pa&&(a<pa.start||a>pa.end)&&(pa.remove(),pa=null);if(Yd)for(h=Na.length,p=0;p<h;p++)k=Na[p],t=k.start,A=k.end,a>=t&&a<=A?Pb||Cg(p):Pb&&(a<Pb.start||a>Pb.end)&&(Pb=null);0<d&&(Vf||$a.hasClass("mvp-upnext-on")&&(a>d-b.upNextTime?$a.addClass("mvp-upnext-visible"):
$a.removeClass("mvp-upnext-visible")));bd.html(MVPUtils.formatTime(a));zc.html(MVPUtils.formatTime(d))}c&&1!=c&&Wi.width(c*Ma);Nb.width(e/d*Ma)}if(b.caption_breakPointArr&&!cj&&pa){c=Da.width();h=b.caption_breakPointArr.length;for(p=0;p<h;p++)if(e=b.caption_breakPointArr[p],c>e.width)var Z=e.size;Da.css("fontSize",Z+"px");cj=!0}Mb=a}}}function oh(a,c){if("file:"!=window.location.protocol&&sa[c]){var e=sa[c].data;if(void 0!=e.mediaId&&void 0!=dc){if("mvp_play_count"==a)var d=[{name:"action",value:a},
{name:"playlist_id",value:dc},{name:"media_id",value:e.mediaId},{name:"title",value:e.safeTitle||""},{name:"currentTime",value:q.getCurrentTime()},{name:"duration",value:q.getDuration()}];else if("mvp_download_count"==a||"mvp_finish_count"==a)d=[{name:"action",value:a},{name:"playlist_id",value:dc},{name:"media_id",value:e.mediaId},{name:"title",value:e.safeTitle||""}];console.log(d);f.ajax({url:b.ajax_url,type:"post",data:d,dataType:"json"}).done(function(h){}).fail(function(h,p,k){console.log("Error getStats: "+
h.responseText,p,k)})}}}function Wj(a,c){var e=[{name:"action",value:"mvp_annotation_shortcode"},{name:"shortcode",value:JSON.stringify(c)},{name:"annotation_id",value:a.attr("data-id")}];f.ajax({url:b.ajax_url,type:"post",data:e,dataType:"json"}).done(function(d){var h=wb.find(".mvp-annotation[data-id="+d.annotation_id+"]");h.length&&(h.find(".mvp-annotation-shortcode-content").html(d.output),h.removeClass("mvp-hidden"))}).fail(function(d,h,p){console.log("Error doAnnotationShortcode: "+d.responseText,
h,p)})}function Ac(){K?f(q).trigger("adEnd",{instance:q,instanceName:b.instanceName,media:g}):(b.useStatistics&&oh("mvp_finish_count",Rb),"next"!=b.mediaEndAction&&"comingnext"!=b.mediaEndAction&&Pc());if(Je&&"undefined"!==typeof ga){if(K)var a="AD ended",c="AD title: "+g.title;else a="Video ended",c="Video title: "+g.title;ga("send",{hitType:"event",eventCategory:"Modern video player: "+b.instanceName,eventAction:a,eventLabel:c,nonInteraction:!0})}if("undefined"!==typeof g.endLink)if("_blank"==g.endTarget)window.open(g.endLink);
else{a=g.endLink;mg();window.location=a;return}K&&!ng?(Xi(),yb.length&&Ha<yb.length-1?(Ha++,g=yb[Ha].type?yb[Ha].data:og(yb[Ha]),K=!0):(yb=[],Ha=-1,g=Md),ie()):kc.length&&Ha<kc.length-1?(Kd(),Ha++,g=kc[Ha].type?kc[Ha].data:og(kc[Ha]),K=ng=!0,ie()):(f(q).trigger("mediaEnd",{instance:q,instanceName:b.instanceName,media:g}),a=g.start||0,"next"==b.mediaEndAction?Xb():"rel"==b.mediaEndAction?("audio"==l?x&&(x.currentTime=a,x.pause()):"video"==l?u&&(u.currentTime=a,u.pause(),ne()):"youtube"==l?E&&(E.seekTo(a),
E.pauseVideo()):"vimeo"==l&&B&&(B.pause(),B.setCurrentTime(a)),kf.find(".mvp-rel-playlist").length?"undefined"===typeof MVPRelPagination?(a=document.createElement("script"),a.type="text/javascript",a.src=MVPUtils.qualifyURL(b.sourcePath+b.rel_js),a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(fd||(fd=new MVPRelPagination({parent:q,wrapper:ed,settings:b})),q.toggleRel())},a.onerror=function(){alert("Error loading "+this.src)},c=document.getElementsByTagName("script")[0],
c.parentNode.insertBefore(a,c)):(fd||(fd=new MVPRelPagination({wrapper:ed,settings:b})),q.toggleRel()):console.log("No related playlists found!")):"comingnext"==b.mediaEndAction?("audio"==l?x&&(x.currentTime=a,x.pause()):"video"==l?u&&(u.currentTime=a,u.pause()):"youtube"==l?E&&(E.seekTo(a),E.pauseVideo()):"vimeo"==l&&B&&(B.pause(),B.setCurrentTime(a)),a=N.getNextCounter(1),"undefined"!==typeof a&&(a=sa[a].data,Xj(a))):"loop"==b.mediaEndAction?"audio"==l?x&&(x.currentTime=a,x.play()):"video"==l?u&&
(u.currentTime=a,u.play()):"youtube"==l?E&&(E.seekTo(a),E.playVideo()):"vimeo"==l&&B&&B.setCurrentTime(a):"rewind"==b.mediaEndAction?"audio"==l?x&&(x.currentTime=a,x.pause()):"video"==l?u&&(u.currentTime=a,u.pause()):"youtube"==l?E&&(E.seekTo(a),E.pauseVideo()):"vimeo"==l&&B&&(B.pause(),B.setCurrentTime(a)):"poster"==b.mediaEndAction&&("audio"==l?x&&(x.currentTime=a,x.pause()):"video"==l?(u&&(u.currentTime=a,u.pause()),g.poster&&(R=!1,hc&&g.is360?"monoscopic"==g.vrMode?Fb&&Fb.hide():Gb&&Gb.hide():
Eb.hide(),ke())):"youtube"==l?(E&&(E.seekTo(a),E.pauseVideo()),g.poster&&(R=!1,Cc.hide(),ke())):"vimeo"==l&&(B&&(B.pause(),B.setCurrentTime(a)),g.poster&&(R=!1,vb.hide(),ke()))))}function Xj(a){if(a.poster||a.thumb){var c=a.poster||a.thumb;f(new Image).addClass("mvp-media mvp-media-img").appendTo(dj.empty()).on("load",function(){ph=f(this);ph.addClass("mvp-visible")}).on("error",function(e){console.log(e)}).attr({src:c,alt:g.title})}c=a.title;a.duration&&(c+=' <span class="mvp-comingnext-duration">('+
MVPUtils.formatTime(a.duration)+")</span>");ej.html(c);pg.addClass("mvp-holder-visible-top").css("display","block");setTimeout(function(){pg.removeClass("mvp-holder-visible-top");gg=!0;var e=1;qh.css("stroke-dashoffset",169-169/b.comingnextTime);gd=setInterval(function(){gd&&(e==b.comingnextTime?(clearInterval(gd),gd=null,Xb()):(qh.css("stroke-dashoffset",169-169/b.comingnextTime*(e+1)),e++))},1E3)},20)}function Vi(){gd&&(clearInterval(gd),gd=null);gg&&(pg.addClass("mvp-holder-visible-top"),setTimeout(function(){pg.css("display",
"none").removeClass("mvp-holder-visible-top");gg=!1;dj.empty();ph=null;ej.html("");qh.css("stroke-dashoffset","169")},500))}function Yj(){setTimeout(function(){Ga()},50)}function Ga(){if(!z||!b.addResizeEvent)return!1;if(b.createPlayer){var a=MVPUtils.getViewportSize(ya);"normal"==qa&&Me&&"wall"!=S&&(a.h-=Me);var c=ja.hasClass(b.minimizeClass)?ja:n;if("vrb"==S)if(c.width()>b.verticalBottomSepearator){rh&&n.removeClass("mvp-ps-drot").addClass("mvp-ps-dot");X.removeClass("mvp-playlist-holder-bottom").width(b.playlistSideWidth);
var e=b.playlistOpened?c.width()-X.width():c.width();O.width(e);if("fullscreen"==qa)var d=c.height();else e=c.width(),d=e/b.playerRatio;d>a.h&&(d=a.h);O.height(d);X.height(d);c.height(d)}else rh&&(n.removeClass("mvp-ps-dot").addClass("mvp-ps-drot"),"scroll"==eb&&"perfect-scrollbar"==b.playlistScrollType&&Ua&&Ua.updateScrollPosition()),X.addClass("mvp-playlist-holder-bottom"),e=c.width(),d=e/b.playerRatio,d>a.h&&(d=a.h),O.css({height:d,width:e}),X.css({height:b.playlistBottomHeight,width:"100%"}),
b.playlistOpened?c.height(d+X.height()):c.height(d),"fullscreen"==qa&&(b.playlistOpened?O.height(c.height()-X.height()):O.height(c.height()));else"vb"==S?(e=c.width(),d=e/b.playerRatio,d>a.h&&(d=a.h),O.height(d),b.playlistOpened?c.height(d+X.height()):c.height(d),"fullscreen"==qa&&(b.playlistOpened?O.height(c.height()-X.height()):O.height(c.height()))):"hb"==S?(e=c.width(),d=e/b.playerRatio,d>a.h&&(d=a.h),500<d&&a.h<=d?(c.height(d),b.playlistOpened?O.height(d-X.height()):O.height(d)):(O.height(d),
b.playlistOpened?c.height(d+X.height()):c.height(d),"fullscreen"==qa&&(b.playlistOpened?O.height(c.height()-X.height()):O.height(c.height())))):"wall"==S?"normal"==qa&&Zb&&(e=mc.width(),d=e/b.playerRatio,d>a.h?(d=a.h,d-=Me,Hc.removeClass("mvp-lightbox-center")):Hc.addClass("mvp-lightbox-center"),mc.height(d)):"outer"==S?"fullscreen"==qa?O.height(c.height()):(e=c.width(),d=e/b.playerRatio,d>a.h&&(d=a.h),O.height(d)):"no-playlist"==S&&(e=c.width(),d=e/b.playerRatio,d>a.h&&(d=a.h),c.height(d));"lightbox"==
b.playerType&&"wall"!=S&&"normal"==qa&&(e=mc.width(),d=e/b.playerRatio,a=MVPUtils.getViewportSize(ya),d=c.height(),d>a.h?(d=a.h,d-=Me,Hc.removeClass("mvp-lightbox-center")):Hc.addClass("mvp-lightbox-center"),mc.height(d));jb&&"javascript"==b.gridType&&b.breakPointArr&&(li(),xc!=Rg&&(Rg=xc,H.find(".mvp-playlist-item").each(function(){if(0<Ya){var p=100/xc;f(this).css({marginLeft:0,marginTop:0,marginRight:Ya+"px",marginBottom:Ya+"px",width:"calc("+p+"% - "+Ya+"px)"})}else f(this).css({marginLeft:0,
marginTop:0,marginRight:Ya+"px",marginBottom:Ya+"px",width:100/xc+"%"})})));b.minimizeOnScroll&&(ja.hasClass(b.minimizeClass)?"normal"==qa&&(500>=a.w?c.addClass("mvp-minimize-full-width"):c.removeClass("mvp-minimize-full-width")):ja.css({width:c.width(),height:c.height()}));Ma=bb.width();Ld=null;ue=$g.width();W&&W.height()>O.height()-60&&W.css("maxHeight",O.height()-60).addClass("mvp-settings-holder-scrollable");l&&g.is360&&Zi();if(b.elementsVisibilityArr)for(a=b.elementsVisibilityArr.length,e=c.width(),
c=0;c<a;c++)d=b.elementsVisibilityArr[c],e<d.width?(-1==d.elements.indexOf("seekbar")&&pb.addClass("mvp-force-hide"),-1==d.elements.indexOf("play")&&xb.addClass("mvp-force-hide"),-1==d.elements.indexOf("time")&&(bd.addClass("mvp-force-hide"),zc.addClass("mvp-force-hide"),Jd.addClass("mvp-force-hide")),-1==d.elements.indexOf("download")&&Id.addClass("mvp-force-hide"),-1==d.elements.indexOf("pip")&&Fd.addClass("mvp-force-hide"),-1==d.elements.indexOf("cc")&&Nc.addClass("mvp-force-hide"),-1==d.elements.indexOf("chapter")&&
(Zd.addClass("mvp-force-hide"),Ob.addClass("mvp-force-hide")),-1==d.elements.indexOf("share")&&sh.addClass("mvp-force-hide"),-1==d.elements.indexOf("info")&&Hd.addClass("mvp-force-hide"),-1==d.elements.indexOf("next")&&Ne.addClass("mvp-force-hide"),-1==d.elements.indexOf("previous")&&Oe.addClass("mvp-force-hide"),-1==d.elements.indexOf("rewind")&&Ce.addClass("mvp-force-hide"),-1==d.elements.indexOf("skip_backward")&&Ae.addClass("mvp-force-hide"),-1==d.elements.indexOf("skip_forward")&&Be.addClass("mvp-force-hide"),
-1==d.elements.indexOf("volume")&&ze.addClass("mvp-force-hide"),-1==d.elements.indexOf("volume_seekbar")&&cb.addClass("mvp-force-hide"),-1==d.elements.indexOf("fullscreen")&&nc.addClass("mvp-force-hide"),-1==d.elements.indexOf("theater")&&oc.addClass("mvp-force-hide"),-1==d.elements.indexOf("playlist")&&Ic.addClass("mvp-force-hide"),-1==d.elements.indexOf("annotations")&&wb.addClass("mvp-force-hide"),-1==d.elements.indexOf("upnext")&&$a.addClass("mvp-force-hide"),-1==d.elements.indexOf("settings")&&
Yf.addClass("mvp-force-hide")):(-1==d.elements.indexOf("seekbar")&&pb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("play")&&xb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("time")&&(bd.removeClass("mvp-force-hide"),zc.removeClass("mvp-force-hide"),Jd.removeClass("mvp-force-hide")),-1==d.elements.indexOf("download")&&Id.removeClass("mvp-force-hide"),-1==d.elements.indexOf("pip")&&Fd.removeClass("mvp-force-hide"),-1==d.elements.indexOf("cc")&&Nc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("chapter")&&
(Zd.removeClass("mvp-force-hide"),Ob.removeClass("mvp-force-hide")),-1==d.elements.indexOf("share")&&sh.removeClass("mvp-force-hide"),-1==d.elements.indexOf("info")&&Hd.removeClass("mvp-force-hide"),-1==d.elements.indexOf("next")&&Ne.removeClass("mvp-force-hide"),-1==d.elements.indexOf("previous")&&Oe.removeClass("mvp-force-hide"),-1==d.elements.indexOf("rewind")&&Ce.removeClass("mvp-force-hide"),-1==d.elements.indexOf("skip_backward")&&Ae.removeClass("mvp-force-hide"),-1==d.elements.indexOf("skip_forward")&&
Be.removeClass("mvp-force-hide"),-1==d.elements.indexOf("volume")&&ze.removeClass("mvp-force-hide"),-1==d.elements.indexOf("volume_seekbar")&&cb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("fullscreen")&&nc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("theater")&&oc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("playlist")&&Ic.removeClass("mvp-force-hide"),-1==d.elements.indexOf("annotations")&&wb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("upnext")&&$a.removeClass("mvp-force-hide"),
-1==d.elements.indexOf("settings")&&Yf.removeClass("mvp-force-hide"));if(!b.keepCaptionFontSizeAfterManualResize&&b.caption_breakPointArr&&pa){e=Da.width();a=b.caption_breakPointArr.length;for(c=0;c<a;c++)if(d=b.caption_breakPointArr[c],e>d.width)var h=d.size;Da.css("fontSize",h+"px")}fd&&Ge&&fd.resizePagination()}jb&&b.playlistOpened&&Ua&&("buttons"==eb||"hover"==eb)&&Ua.resize(Ta)}function Zi(){if("video"==l){if(hc&&g.is360&&Hb){var a=U.width(),c=U.height();"monoscopic"==g.vrMode?(va.aspect=a/c,
va.updateProjectionMatrix(),ic.setSize(a,c)):(Bc.aspect=a/c,Bc.updateProjectionMatrix(),ia.setSize(a,c))}}else"image"==l&&g.is360&&Qf&&(a=U.width(),c=U.height(),Ib.setSize(a,c),va.aspect=a/c,va.updateProjectionMatrix(),Ib.render(re,va))}function Vh(a){if(!z)return!1;if("undefined"!==typeof a){if(b.playlistOpened&&1==a||!b.playlistOpened&&0==a)return!1;b.playlistOpened=!a}var c=ja.hasClass(b.minimizeClass)?ja:n;if("vrb"==S)if(X.hasClass("mvp-playlist-holder-bottom")){var e=b.playlistOpened?O.height():
O.height()+X.height();c.animate({height:e},200,function(){Ga()})}else a=b.playlistOpened?c.width():c.width()-X.width(),O.animate({width:a},350,function(){Ga();pc(!0)});else"hb"==S?"fullscreen"==qa?(a=MVPUtils.getViewportSize(ya),c=c.width(),e=c/b.playerRatio,e>a.h&&(e=a.h),b.playlistOpened?O.animate({height:e},200,function(){Ga()}):(a=a.h-X.height(),O.animate({height:a},200,function(){Ga()}))):(e=b.playlistOpened?O.height():O.height()+X.height(),c.animate({height:e},200,function(){Ga()})):"vb"==S?
"fullscreen"==qa?(a=MVPUtils.getViewportSize(ya),c=c.width(),e=c/b.playerRatio,e>a.h&&(e=a.h),b.playlistOpened?O.animate({height:a.h},200,function(){Ga()}):(a=a.h-X.height(),O.animate({height:a},200,function(){Ga()}))):(e=b.playlistOpened?O.height():O.height()+X.height(),c.animate({height:e},200,function(){Ga()})):"outer"==S&&"fullscreen"!=qa&&(e=b.playlistOpened?O.height():O.height()+X.height(),c.animate({height:e},200,function(){}));b.playlistOpened=!b.playlistOpened}function fe(a){var c={};c.origclasses=
a.attr("class");c.type=c.origtype=a.attr("data-type");void 0!=a.attr("data-noapi")&&(c.noApi=!0);void 0!=a.attr("data-is360")&&(c.is360=!0,c.vrMode="monoscopic");void 0!=a.attr("data-vr-mode")&&(Xg?c.vrMode=a.attr("data-vr-mode"):c.vrModeOrig=a.attr("data-vr-mode"));void 0!=a.attr("data-media-id")&&(c.mediaId=a.attr("data-media-id"));void 0!=a.attr("data-category")&&(c.category=a.attr("data-category"));void 0!=a.attr("data-tag")&&(c.tag=a.attr("data-tag"));nf?c.pwd=nf:void 0!=a.attr("data-pwd")&&
(c.pwd=a.attr("data-pwd"));void 0!=a.attr("data-live-stream")&&(c.liveStream=!0);void 0!=a.attr("data-alt")&&(c.alt=a.attr("data-alt"));"audio"==c.type||"video"==c.type?c.path=a.data("path"):void 0!=a.attr("data-path")&&(c.path=a.attr("data-path"),-1!=c.path.indexOf("ebsfm:")&&(c.path=MVPUtils.b64DecodeUnicode(c.path.substr(6))));void 0!=a.attr("data-mp4")&&(c.mp4=a.attr("data-mp4"));void 0!=a.attr("data-thumb")&&(c.thumb=a.attr("data-thumb"));void 0!=a.attr("data-hover-preview")&&(c.hoverPreview=
a.attr("data-hover-preview"));void 0!=a.attr("data-title")&&(c.title=a.attr("data-title"));void 0!=a.attr("data-description")&&(c.description=a.attr("data-description"));void 0!=a.attr("data-quality")&&(c.quality=a.attr("data-quality"));void 0!=a.attr("data-download")&&(c.download=a.attr("data-download"));void 0!=a.attr("data-watched-complete")&&(c.watchedComplete=!0);Xc||void 0==a.attr("data-slideshow-images")||(c.slideshowImages=a.attr("data-slideshow-images").split(","));void 0!=a.attr("data-poster")&&
(c.poster=a.attr("data-poster"));void 0!=a.attr("data-poster-frame-time")&&(c.posterFrameTime=a.attr("data-poster-frame-time"));void 0!=rf?c.lockTime=rf:void 0!=a.attr("data-lock-time")&&(c.lockTime=Number(a.attr("data-lock-time")));sf&&(c.lockVideoUserRoles=sf);of?c.start=of:void 0!=a.attr("data-start")&&(c.start=Number(a.attr("data-start")));pf?c.end=pf:void 0!=a.attr("data-end")&&(c.end=Number(a.attr("data-end")));qf?c.playbackRate=qf:void 0!=a.attr("data-playback-rate")&&(c.playbackRate=Number(a.attr("data-playback-rate")));
void 0!=a.attr("data-time-watched")&&(c.timeWatched=a.attr("data-time-watched"));void 0!=a.attr("data-duration")&&(c.duration=a.attr("data-duration"));void 0!=a.attr("data-aspect-ratio")&&(c.aspectRatio=Number(a.attr("data-aspect-ratio")));void 0!=a.attr("data-id3")&&(c.id3=!0);void 0!=a.attr("data-share")&&(c.share=a.attr("data-share"));void 0!=a.attr("data-limit")&&(c.limit=Number(a.attr("data-limit")));void 0!=a.attr("data-is360")&&(c.is360=!0);void 0!=a.attr("data-preview-seek")&&(c.previewSeek=
a.attr("data-preview-seek"));void 0!=a.attr("data-user-id")&&(c.user_id=a.attr("data-user-id"));void 0!=a.attr("data-sort")&&(c.sort=a.attr("data-sort"),void 0!=a.attr("data-sort-direction")&&(c.sortDirection=a.attr("data-sort-direction")));void 0!=a.attr("data-user-account")&&(c.userAccount=a.attr("data-user-account"));void 0!=a.attr("data-upload-date")&&(c.date=a.attr("data-upload-date"));if(a.children(".mvp-subtitles").length){var e=a.children(".mvp-subtitles");e.children("div").length&&(c.subtitles=
[],e.children("div").each(function(){var d=f(this),h=d.attr("data-label");h={label:h,value:h,src:d.attr("data-src")};void 0!=d.attr("data-default")&&(h["default"]=!0);c.subtitles.push(h)}),c.subtitles.push({label:b.subtitleOffText,value:b.subtitleOffText}))}a.find(".mvp-custom-playlist-item-content").length&&(c.customContent=a.find(".mvp-custom-playlist-item-content").html());void 0!=a.attr("data-chapters")&&(c.chapters=a.attr("data-chapters"));void 0!=a.attr("data-link")&&(c.link=a.attr("data-link"),
void 0!=a.attr("data-target")?c.target=a.attr("data-target"):c.target="_blank");void 0!=a.attr("data-end-link")&&(c.endLink=a.attr("data-end-link"),c.endTarget="_blank",void 0!=a.attr("data-end-target")&&(c.endTarget=a.attr("data-end-target")));a.children(".mvp-ad-section").length?(c.adSection=a.children(".mvp-ad-section"),Vc&&(c.adSection=c.adSection.wrap("<p>").parent().html())):lf&&(c.adSection=lf,Vc&&(c.adSection=c.adSection.wrap("<p>").parent().html()));a.children(".mvp-annotation-section").length?
(c.annotationSection=a.children(".mvp-annotation-section"),Vc&&(c.annotationSection=c.annotationSection.wrap("<p>").parent().html())):mf&&(c.annotationSection=mf,Vc&&(c.annotationSection=c.annotationSection.wrap("<p>").parent().html()));void 0!=a.attr("data-load-more")&&(sb=!0,uc=a.wrap("<p>").parent().html());return c}function og(a){var c={};c.type=a.attr("data-type");"audio"==c.type||"video"==c.type?c.path=a.data("path"):void 0!=a.attr("data-path")&&(c.path=a.attr("data-path"),-1!=c.path.indexOf("ebsfm:")&&
(c.path=MVPUtils.b64DecodeUnicode(c.path.substr(6))));void 0!=a.attr("data-is360")&&(c.is360=!0);void 0!=a.attr("data-poster")&&(c.poster=a.attr("data-poster"));void 0!=a.attr("data-link")&&(c.link=a.attr("data-link"),void 0!=a.attr("data-target")?c.target=a.attr("data-target"):c.target="_blank");void 0!=a.attr("data-end-link")&&(c.endLink=a.attr("data-end-link"),c.endTarget="_blank",void 0!=a.attr("data-end-target")&&(c.endTarget=a.attr("data-end-target")));void 0!=a.attr("data-skip-enable")&&(c.skipEnable=
Math.abs(parseInt(a.attr("data-skip-enable"),10)));void 0!=a.attr("data-ad-id")&&(c.adId=a.attr("data-ad-id"));void 0!=a.attr("data-duration")&&(c.duration=a.attr("data-duration"));return c}function th(){L.show();Va=!0;Qa&&Qa.css("opacity",0);f.ajax({url:b.ajax_url,type:"post",data:[{name:"action",value:"mvp_add_more"},{name:"playlist_id",value:dc},{name:"addMoreOffset",value:wc},{name:"addMoreLimit",value:vc},{name:"addMoreSortOrder",value:xf},{name:"addMoreSortDirection",value:yf},{name:"encryptMediaPaths",
value:zf},{name:"taxonomy",value:Af},{name:"category",value:Bf},{name:"tag",value:Cf},{name:"match",value:Df}],dataType:"json"}).done(function(a){I&&void 0!=I.attr("data-add-more-offset")&&(wc=parseInt(I.attr("data-add-more-offset"),10)+vc,I.attr("data-add-more-offset",wc));q.addTrack("html",a)}).fail(function(a,c,e){console.log(a.responseText,c,e);q.endLoadMore()})}function Zj(){L.show();Va=!0;f.ajax({url:b.ajax_url,type:"post",data:[{name:"action",value:"mvp_add_more"},{name:"playlist_id",value:dc},
{name:"addMoreOffset",value:wc},{name:"addMoreLimit",value:vc},{name:"addMoreSortOrder",value:xf},{name:"addMoreSortDirection",value:yf},{name:"encryptMediaPaths",value:zf},{name:"taxonomy",value:Af},{name:"category",value:Bf},{name:"tag",value:Cf},{name:"match",value:Df}],dataType:"json"}).done(function(a){H.find(".mvp-playlist-item:visible").addClass("mvp-pagination-hidden").each(function(){f(this).find(".mvp-thumbimg").removeClass("mvp-visible")});q.addTrack("html",a);Qg(ib);gi()}).fail(function(a,
c,e){console.log(a,c,e);q.endLoadMore()})}function gi(){Bd[ib].page=ib;var a=[];H.find(".mvp-playlist-item:not(.mvp-pagination-hidden)").each(function(){a.push(f(this))});Bd[ib].media_id=a}function Qg(a){a+=1;var c='<div class="mvp-pagination-container">';1<a&&(c+='<div class="mvp-pagination-page mvp-pagination-prev" data-page-id="prev" title="'+b.paginationPreviousBtnTitle+'">'+b.paginationPreviousBtnText+"</div>");3<a&&(c+='<div class="mvp-pagination-page mvp-pagination-start" data-page-id="0">1</div><div class="mvp-pagination-dots">...</div>');
if(0<a-2){var e=a-2;c+='<div class="mvp-pagination-page" data-page-id="'+(e-1)+'">'+e+"</div>"}0<a-1&&(e=a-1,c+='<div class="mvp-pagination-page" data-page-id="'+(e-1)+'">'+e+"</div>");e=a;c+='<div class="mvp-pagination-page mvp-pagination-currentpage" data-page-id="'+(e-1)+'">'+e+"</div>";a+1<Uc+1&&(e=a+1,c+='<div class="mvp-pagination-page" data-page-id="'+(e-1)+'">'+e+"</div>");a+2<Uc+1&&(e=a+2,c+='<div class="mvp-pagination-page" data-page-id="'+(e-1)+'">'+e+"</div>");a<Uc-2&&(e=Uc,c+='<div class="mvp-pagination-dots">...</div><div class="mvp-pagination-page mvp-pagination-end" data-page-id="'+
(e-1)+'">'+e+"</div>");a<Uc&&(c+='<div class="mvp-pagination-page mvp-pagination-next" data-page-id="next" title="'+b.paginationNextBtnTitle+'">'+b.paginationNextBtnText+"</div>");c+="</div>";He?He.html(c):n.append('<div class="mvp-pagination-wrap">'+c+"</div>");fj||(fj=!0,He=n.find(".mvp-pagination-wrap").on("click",".mvp-pagination-page:not(.mvp-pagination-currentpage)",function(){if(!z||Oa||Va)return!1;Va=!0;Ie&&Ie.removeClass("mvp-pagination-currentpage");Ie=f(this).addClass("mvp-pagination-currentpage");
var d=f(this).attr("data-page-id");ib="prev"==d?ib-1:"next"==d?ib+1:parseInt(d,10);null==Bd[ib].page?(wc=ib*vc,Zj()):(H.find(".mvp-playlist-item:visible").addClass("mvp-pagination-hidden").each(function(){f(this).find(".mvp-thumbimg").removeClass("mvp-visible")}),f(Bd[ib].media_id).each(function(){var h=f(this).removeClass("mvp-pagination-hidden").find(".mvp-thumbimg").removeClass("mvp-visible");setTimeout(function(){h.addClass("mvp-visible")},20)}),Qg(ib),Va=!1)}),Ie=He.find(".mvp-pagination-currentpage"))}
function gj(){if(b.activateWhenParentVisibleSelector){var a=f(b.activateWhenParentVisibleSelector);if("none"==a.css("display"))var c=setInterval(function(){"none"!=a.css("display")&&(clearInterval(c),uh())},500);else uh()}else uh()}function ki(){var a={activePlaylist:wd,playlist:JSON.stringify(sa),date:Math.floor(Date.now()/1E3)};I&&(a.globalPlaylistData=I.wrap("<p>").parent().html());sb&&hb&&uc&&ec&&(a.loadMoreOnTotalScroll=!0,a.nextPageToken=hb,a.loadMoreItem=uc,a.loadMoreType=ec);Nd&&Nd.saveData(a)}
function uh(){setTimeout(function(){var a=f('<div class="mvp-playlist-item" style="opacity:0;"></div>').prependTo(n);b.pi_size="h"==Dd?a.outerWidth(!0):a.outerHeight(!0);a.remove();ua.length?tf():vh.length?(Oa=!0,L.show(),f(q).trigger("playlistStartLoad",{instance:q,instanceName:b.instanceName}),Pa=vh,T=Pa.length,za()):b.activePlaylist&&!MVPUtils.isEmpty(b.activePlaylist)?bi(b.activePlaylist):fi()},50)}b=f.extend(!0,{},{vimeo_js:"https://player.vimeo.com/api/player.js",vimeoLoader_js:"js/vimeoLoader.js",
youtube_js:"https://www.youtube.com/iframe_api",youtubeLoader_js:"js/youtubeLoader.js",mCustomScrollbar_js:"https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js",mCustomScrollbar_css:"css/jquery.mCustomScrollbar.css",perfectScrollbar_js:"https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/1.5.0/perfect-scrollbar.min.js",hls_js:"https://cdn.jsdelivr.net/npm/hls.js@latest",dash_js:"https://cdn.dashjs.org/latest/dash.all.min.js",
mediatags_js:"https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.0/jsmediatags.min.js",jquery_touchSwipe:"https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.19/jquery.touchSwipe.min.js",adsbygoogle_js:"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",three_js:"js/three.min.js",orbitControls_js:"https://unpkg.com/three@0.85.0/examples/js/controls/OrbitControls.js",md5_js:"https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.10.0/js/md5.min.js",equalizer_js:"js/equalizer.js",
rel_js:"js/rel_pagination.js",share_js:"js/share_manager.js",cache_js:"js/cache.js",playlist_navigation_js:"js/playlist_navigation.js",sourcePath:"",playlistList:"#mvp-playlist-list",instanceName:"",queryInstance:"",playerType:"normal",createPlayer:!0,rememeberCaptionState:!0,youtubePlayerType:"chromeless",blockYoutubeEvents:!0,vimeoPlayerType:"default",vimeoPlayerColor:"#00adef",blockVimeoEvents:!0,playerRatio:1.7777777,playlistBottomHeight:300,playlistSideWidth:320,volume:.5,preload:"auto",autoPlay:!1,
autoPlayAfterFirst:!1,autoPlayInViewport:!1,addResizeEvent:!0,mediaEndAction:"next",useShare:!0,adUpcomingMsgTime:5,thumbScrollValue:50,youtubePlayerColor:"red",verticalBottomSepearator:750,subtitleOffText:"Disabled",useMobileNativePlayer:!1,hideQualityMenuOnSingleQuality:!0,useLightboxAdvanceButtons:!0,minimizeOnScroll:!1,minimizeOnScrollOnlyIfPlaying:!1,aspectRatio:2,gridType:"javascript",adUpcomingTime:5,randomPlay:!1,playlistScrollType:"mcustomscrollbar",loopingOn:!0,captionStateKey:"mvp-caption-state",
hidePlaylistOnFullscreenEnter:!0,focusVideoInTheater:!0,hidePlaylistOnTheaterEnter:!0,playlistItemContent:"thumb,title,description",playbackPositionKey:"mvp-playback-position",rightClickContextMenu:"custom",tooltipClose:"Close",tooltipLightboxPrevious:"Previous",tooltipLightboxNext:"Next",closeSettingsMenuOnSelect:!0,playlistOpened:!0,hidePlaylistOnMinimize:!0,clickOnBackgroundClosesLightbox:!0,limitDescriptionText:2,togglePlaybackOnMultipleInstances:!0,showStreamVideoBitrateMenu:!0,showStreamAudioBitrateMenu:!0,
useKeyboardNavigationForPlayback:!1,keyboardControls:[],seekTime:10,scrollToPlayer:0,seekToChapterStart:!0,autoOpenChapterMenu:!0,hideChapterMenuOnChapterSelect:!1,useSwipeNavigation:!1,autoPlaylistStyleVrbSwitch:!0,createAdMarkers:!0,showPrevNextVideoThumb:!0,playAdsOnlyOnce:!1,showAnnotationsOnlyOnce:!1,displayWatchedPercentage:!1,autoRotateSpeed:.5,autoRotatePanorama:!0,enablePerspectiveWhenVrNotAvailable:!0,addPlaylistEvents:!0,idleTimeout:2E3,caption_breakPointArr:[{width:0,size:18},{width:480,
size:20},{width:768,size:22},{width:1024,size:24},{width:1280,size:36}],youtubeAppId:"",youtubeThumbSize:"medium",vimeoThumbSize:"295x166",searchDescriptionInPlaylist:!0,minimizeClass:"mvp-minimize-br",whatsAppWarning:"Please share this content on mobile device!",comingnextTime:10,showControlsBeforeStart:!1,useStatistics:!1,disableVideoSkip:!1,keepCaptionFontSizeAfterManualResize:!1,requirePosterFromFolder:!0,requireThumbnailsFromFolder:!0,useAudioEqualizer:!1,playbackPositionTime:null,mediaId:null,
mediaTitle:null,paginationPreviousBtnTitle:"Previous",paginationPreviousBtnText:"Prev",paginationNextBtnTitle:"Next",paginationNextBtnText:"Next"},b);var qg=MVPUtils.getUrlParameter(),hd=[],vh=[],Od=[],Pd=[];if(decodeURIComponent(qg["mvp-query-instance"])==b.instanceName&&(Object.keys(qg).forEach(function(a){if(0==a.indexOf("mvp-")){var c=a.substr(4),e=c;a=decodeURIComponent(qg[a]).replace(/\+/g," ");-1==c.indexOf("path-")&&-1==c.indexOf("subtitle-")&&(e=c.replace(/-([a-z])/g,function(d){return d[1].toUpperCase()}));
a&&(b.hasOwnProperty(e)?("true"===a?a=!0:"false"===a&&(a=!1),b[e]=a):(a=a.split(",").map(function(d){return d.trim()}),-1<e.indexOf("path-")?Od.push({key:e,value:a}):-1<e.indexOf("subtitle-")?Pd.push({key:e,value:a}):hd.push({key:e,value:a})))}}),Od.length&&(Od=MVPUtils.regroupArray(Od),hd.push({key:"path",value:Od})),Pd.length&&(Pd=MVPUtils.regroupArray(Pd),hd.push({key:"subtitles",value:Pd})),Pd=Od=null,hd.length)){var Aa,rg,wh=hd.length,ak=hd[0].value.length;for(rg=0;rg<ak;rg++){var xh={};for(Aa=
0;Aa<wh;Aa++){var Pe=hd[Aa];var Qd=Pe.value[rg];-1==Pe.key.indexOf("path-")&&-1==Pe.key.indexOf("subtitle-")&&("true"===Qd?Qd=!0:"false"===Qd&&(Qd=!1),xh[Pe.key]=Qd,"type"===Pe.key&&(xh.origtype=Qd))}vh.push(xh)}}qg=null;var q=this,ya=MVPUtils.isMobile(),hj=b.useSwipeNavigation&&"ontouchstart"in window,jb=!0;"vlb"==b.playlistPosition?b.playlistPosition="vrb":"ht"==b.playlistPosition&&(b.playlistPosition="hb");var n=f(this).css("display","block"),Me=0;if("wall"==b.playlistPosition||"lightbox"==b.playerType){var yh=
'<div class="mvp-lightbox-wrap"><div class="mvp-lightbox"><div class="mvp-lightbox-inner"><div class="mvp-lightbox-content-inner"><div class="mvp-lightbox-close" title="'+b.tooltipClose+'"><svg viewBox="0 0 384 512"><path d="M217.5 256l137.2-137.2c4.7-4.7 4.7-12.3 0-17l-8.5-8.5c-4.7-4.7-12.3-4.7-17 0L192 230.5 54.8 93.4c-4.7-4.7-12.3-4.7-17 0l-8.5 8.5c-4.7 4.7-4.7 12.3 0 17L166.5 256 29.4 393.2c-4.7 4.7-4.7 12.3 0 17l8.5 8.5c4.7 4.7 12.3 4.7 17 0L192 281.5l137.2 137.2c4.7 4.7 12.3 4.7 17 0l8.5-8.5c4.7-4.7 4.7-12.3 0-17L217.5 256z"></path></svg></div>';
b.useLightboxAdvanceButtons&&(yh+='<div class="mvp-lightbox-prev" title="'+b.tooltipLightboxPrevious+'"><svg viewBox="0 0 256 512"><path d="M238.475 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L50.053 256 245.546 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L10.454 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z"></path></svg></div><div class="mvp-lightbox-next" title="'+b.tooltipLightboxNext+'"><svg viewBox="0 0 256 512"><path d="M17.525 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L205.947 256 10.454 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L34.495 36.465c-4.686-4.687-12.284-4.687-16.97 0z"></path></svg></div>');
yh+="</div></div></div>";var Ka=f(yh);if("wall"==b.playlistPosition){Ka.addClass(n.attr("id")).prependTo(n);var mc=Ka.find(".mvp-lightbox-content-inner").append(n.find(".mvp-player-wrap"));n.find(".mvp-playlist-holder").prependTo(n)}else"lightbox"==b.playerType&&(Ka.addClass(n.attr("id")).appendTo(f("body")),mc=Ka.find(".mvp-lightbox-content-inner").append(n.addClass("mvp-is-lightbox")));var bk=Ka.find(".mvp-lightbox");Ka.find(".mvp-lightbox-content");var Hc=Ka.find(".mvp-lightbox-inner");var ck=
Ka.find(".mvp-lightbox-close");var dk=Ka.find(".mvp-lightbox-prev");var ek=Ka.find(".mvp-lightbox-next");Me=2*parseInt(mc.css("padding"),10)}var ja=n.find(".mvp-player-wrap"),U=n.find(".mvp-media-holder").show(),X=n.find(".mvp-playlist-holder"),Tg=n.find(".mvp-playlist-inner"),H=n.find(".mvp-playlist-content"),ij=n.find(".mvp-playlist-filter-msg"),jg=n.find(".mvp-subtitle-holder").css("display","none"),Da=n.find(".mvp-subtitle-holder-inner").attr("aria-hidden",!0),wb=n.find(".mvp-annotation-holder").css("display",
"none"),O=n.find(".mvp-player-holder").show(),Eb,Cc,ve,xe,Y,qe,jc,Ja=n.find(".mvp-player-controls"),Aj=n.find(".mvp-player-controls-bottom"),xb=n.find(".mvp-playback-toggle"),bd=n.find(".mvp-media-time-current").html("00:00"),Jd=n.find(".mvp-media-time-separator"),zc=n.find(".mvp-media-time-total").html("00:00"),zb=n.find(".mvp-preview-seek-wrap"),Ag=n.find(".mvp-preview-seek-inner"),nj=n.find(".mvp-preview-seek-info"),pb=n.find(".mvp-seekbar"),bb=n.find(".mvp-progress-bg"),Wi=n.find(".mvp-load-level"),
Nb=n.find(".mvp-progress-level"),ze=n.find(".mvp-volume-wrapper"),nd=n.find(".mvp-volume-toggle"),cb=n.find(".mvp-volume-seekbar"),ld=n.find(".mvp-volume-bg"),pj=n.find(".mvp-volume-level"),ce=n.find(".mvp-info-holder"),Hd=n.find(".mvp-info-toggle").hide(),Xf,Ri=n.find(".mvp-player-title"),Si=n.find(".mvp-player-desc"),Qb=n.find(".mvp-pwd-holder"),ef=n.find(".mvp-pwd-field"),Gg=n.find(".mvp-pwd-error").text(),Ic=n.find(".mvp-playlist-toggle"),L=n.find(".mvp-player-loader").show(),ca=n.find(".mvp-big-play"),
zh=n.find(".mvp-loop-toggle"),Ah=n.find(".mvp-shuffle-toggle"),Id=n.find(".mvp-download-toggle").hide(),sh=n.find(".mvp-share-toggle"),de=n.find(".mvp-share-holder"),hf=n.find(".mvp-resume-holder"),ai=n.find(".mvp-resume-header-title"),Jb,Ti=n.find(".mvp-live-note"),$a=n.find(".mvp-upnext-wrap"),Wf=$a.find(".mvp-upnext-thumb"),ch=$a.find(".mvp-upnext-title"),dh=$a.find(".mvp-upnext-duration"),Ia=n.find(".mvp-upnext-wrap2"),Kg=Ia.find(".mvp-upnext-thumb"),sg=Ia.find(".mvp-upnext-header"),Lg=Ia.find(".mvp-upnext-title"),
Mg=Ia.find(".mvp-upnext-duration"),Ne=n.find(".mvp-next-toggle"),Oe=n.find(".mvp-previous-toggle"),Ce=n.find(".mvp-rewind-toggle"),Ae=n.find(".mvp-skip-backward-toggle"),Be=n.find(".mvp-skip-forward-toggle"),rc=n.find(".mvp-settings-toggle"),Mh=n.find(".mvp-playback-rate-menu"),Ye=n.find(".mvp-quality-menu"),Nh=n.find(".mvp-quality-settings-menu"),Vd=n.find(".mvp-subtitle-menu"),Qh=n.find(".mvp-subtitle-settings-menu"),cg=n.find(".mvp-audio-language-menu");n.find(".mvp-audio-language-menu-holder");
var Ui=n.find(".mvp-audio-language-toggle").hide(),fh=n.find(".mvp-audio-language-settings-menu"),Fd=n.find(".mvp-pip-toggle").hide(),Nc=n.find(".mvp-cc-toggle").hide(),fg=n.find(".mvp-vr-toggle").hide(),oc=n.find(".mvp-theater-toggle"),od=n.find(".mvp-unmute-toggle"),pg=n.find(".mvp-comingnext-holder"),dj=n.find(".mvp-comingnext-poster-holder"),ej=n.find(".mvp-comingnext-data-title"),qh=n.find(".mvp-comingnext-timer-circle-stroke"),fk=n.find(".mvp-comingnext-timer-wrap"),gk=n.find(".mvp-comingnext-cancel"),
Zh=n.find(".mvp-redirect-login-holder-download"),$h=n.find(".mvp-redirect-login-holder-watch"),ee,ed=n.find(".mvp-rel-holder"),Zd=n.find(".mvp-chapter-toggle").hide(),Ob=n.find(".mvp-chapter-menu-holder"),Xd=n.find(".mvp-chapter-menu"),te=n.find(".mvp-ad-seekbar"),$g=n.find(".mvp-ad-progress-bg"),jh=n.find(".mvp-ad-load-level"),kh=n.find(".mvp-ad-progress-level"),Uj=n.find(".mvp-ad-info-time"),Ec=n.find(".mvp-ad-skip-btn"),bj=n.find(".mvp-ad-skip-msg"),hg=n.find(".mvp-ad-skip-msg-text"),ih=hg.html(),
hh=n.find(".mvp-ad-skip-msg-end"),aj=n.find(".mvp-ad-skip-thumb"),lb=n.find(".mvp-ad-controls"),tc=n.find(".mvp-ad-info-start"),Vj=n.find(".mvp-ad-info-start-time"),rh;if(b.playerClass)var Fc=b.playerClass;else{var jj=b.skin,eb=b.navigationType||"",S=b.playlistPosition||"",Qe="",nb=b.playlistStyle||"",Bh=b.playerShadow||"";"hb"!=S||"buttons"!=eb||"dot"!=nb&&"drot"!=nb||(Qe=b.navigationStyle);"no-playlist"==S&&(nb="");"vrb"!=S&&"vb"!=S&&"hb"!=S&&(Qe=eb="");"vrb"!=S&&"vb"!=S&&"hb"!=S&&"no-playlist"!=
S&&(Bh="");"outer"==S||"wall"==S?"gdot"!=nb&&"gdbt"!=nb&&"gdrot"!=nb&&(nb="gdot"):("vrb"==S||"vb"==S||"hb"==S)&&"dot"!=nb&&"drot"!=nb&&(nb="drot");var Dd="v";"hb"==S&&(Dd="h");Fc="mvp-player mvp-skin-"+jj;-1<jj.indexOf("flat")&&(Fc+=" mvp-skin-flat");MVPUtils.isEmpty(S)||(Fc+=" mvp-"+S);MVPUtils.isEmpty(eb)||(Fc+=" mvp-nt-"+eb);MVPUtils.isEmpty(Qe)||(Fc+=" mvp-ns-"+Qe);MVPUtils.isEmpty(nb)||(Fc+=" mvp-ps-"+nb,"dot"==nb&&b.autoPlaylistStyleVrbSwitch&&(rh=!0));MVPUtils.isEmpty(Bh)||(Fc+=" mvp-"+Bh+
" mvp-shadow-effect-hidden");b.navigationDirection=Dd;b.navigationType=eb}"spaced"==Qe&&0==X.find(".mvp-nav-backward-horizontal").length&&f('<div class="mvp-nav-backward mvp-nav-backward-horizontal mvp-contr-btn"><svg viewBox="0 0 192 512"><path d="M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z"></path></svg></div><div class="mvp-nav-forward mvp-nav-backward-horizontal mvp-contr-btn"><svg viewBox="0 0 192 512"><path d="M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"></path></svg></div></div>').appendTo(X);
n.addClass(Fc);"wall"==S?(b.playerType="lightbox",b.playlistOpened=!0,Ic.remove()):"outer"==S?(b.playerType="normal",b.minimizeOnScroll=!1,b.hidePlaylistOnFullscreenEnter=!1):"no-playlist"==S&&(jb=!1,X.remove(),Ic.remove());"lightbox"==b.playerType&&(b.autoPlayInViewport=!1,b.minimizeOnScroll=!1,b.hidePlaylistOnFullscreenEnter=!1,oc.remove());b.minimizeOnScroll&&b.useMinimizeCloseBtn&&ja.append('<div class="mvp-minimize-close mvp-contr-btn" title="'+b.tooltipClose+'"><svg role="img" viewBox="0 0 320 512"><path d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg></div>');
n.find(".mvp-playlist-bar").length&&("h"==Dd&&X.height(X.height()+n.find(".mvp-playlist-bar").height()),"wall"!=S&&"outer"!=S||n.find(".mvp-playlist-bar").prependTo(Tg));"default"==b.youtubePlayerType?b.blockYoutubeEvents=!1:hj&&(b.blockYoutubeEvents=!0);"javascript"!=b.gridType&&(b.breakPointArr=null,n.addClass("mvp-grid mvp-"+b.gridType));b.breakPointArr&&b.breakPointArr.length&&MVPUtils.keysrt(b.breakPointArr,"width");b.elementsVisibilityArr&&b.elementsVisibilityArr.length&&MVPUtils.keysrt(b.elementsVisibilityArr,
"width");b.caption_breakPointArr&&b.caption_breakPointArr.length&&MVPUtils.keysrt(b.caption_breakPointArr,"width");b.wrapperMaxWidth&&("lightbox"==b.playerType?Hc.css("max-width",b.wrapperMaxWidth):n.css("max-width",b.wrapperMaxWidth));var kj=MVPUtils.isIOS(),hk=MVPUtils.isiPhoneIpod();MVPUtils.isAndroid();var mj=MVPUtils.hasFullscreen(),Tj=MVPUtils.hasDownloadSupport(),ik=MVPUtils.volumeCanBeSet(),jk=MVPUtils.supportsWebGL(),oi=MVPUtils.canPlayMp4(),ni=MVPUtils.canPlayMp3(),mi=MVPUtils.canPlayWav(),
kk=MVPUtils.isChrome();MVPUtils.isSafari();var Ud=MVPUtils.hasLocalStorage(),Xh=document.pictureInPictureEnabled,Je=b.useGa&&b.gaTrackingId,ah=b.rememberPlaybackPosition&&Ud,Re=b.playbackPositionKey+b.instanceName,Mc=b.instanceName+b.captionStateKey,vf=b.playlistItemContent.replace(/\s+/g,"").split(","),Ij=b.vimeoThumbSize.substr(0,b.vimeoThumbSize.indexOf("x")),Xc=!kj&&b.useAudioEqualizer&&(window.AudioContext||window.webkitAudioContext)?!0:!1,kf=f(b.playlistList),ra=b.autoPlay,P=b.volume,Cb=b.volume,
Lh=b.volume||.5,zg,Hg,z=!1,Oa=!0,Va,ec,vc,Ad,wc,zf,nf,xf,yf,Af,Bf,Cf,Df,uc,hb,sb,gc=b.addMoreOnTotalScroll;q=this;var tg=f("body"),Sa=f(window),Ra=f(document),Kh=f("html"),Ih=0,Jh=0,fj,Ie,He,Uc,ib,Bd=[],Ch,R,Rb,ma,fa,mb,Ld,g,Md,wd,Ta,T,Wh="scroll.minimize"+b.instanceName,Gf="scroll.autoplay"+b.instanceName,$i,rb,bh,Te,Ua,Zb,ac,$b=[],be,Jc,lk="audio video image youtube_single vimeo_single hls dash".split(" "),Q,sc,dg,Hf,Ee,Fe,gh,wa,pe=window.MediaSource,qi,Ai,Sc,Og,ui,Tb,x,If,tb,me,V,fc,yc,u,Za,vi,
Kf,gb,cd,E,Di,Sf,Zf,si,$f,Wa,$c,B,vb,Ca=b.vimeoPlayerType,Fi,Oi,Ei,Ni,we,ye,Gi,Pi,ag,ti,Lb=0,dd=0,De=0,bg,hc=!0,Zc,wi,xi,Fb,ic,Vg,Wg,Gb,ia,Nf,Of,oe,Hb,Td,Xg,va,Bc,Ea,Lf,yi,Mf,Rf,Gd,Ub,ub,Bi,Qf,Yc,Yg,Zg,re,Ib,Ci,Wc,ji,Cd,Ug,je=[],aa,l,la,M,na,Jg,Sb,bc,cc,gf,fb=!0,Yb,mh,lh,Qc,Rc,dc,Sg,xd=-1,sa=[],Pg=[],ua=[],Pa=[],I,vd,Vf,rf,sf,of,pf,qf,Xe,Ze,eg,Vb,pd,af=[],Ab=[],pa,cj,$e,kb,zd,Db,Tc,wf,hi,xc,Ya,Rg,qc,df,ea,db,sd,zi,Oc,rd,$d,ae,Na=[],Yd,qd,bf,cf,Bb,Pb,kg,lg,Rd,lf,ue=0,Ed,Dh,K,yb=[],Ha,kc=[],qb=[],ng,
Le,Ke,ig,le,Dc=[],Mb=null,Eh,ad,mf,Uf,gd,ph,gg,fd,Ge,Nd,ge,Vc=b.useCache&&"indexedDB"in window&&!0,id,Fh,ud,eh=!0,Gh,Hh=!0;b.showVideoTitle&&(Xf=f('<div class="mvp-video-title"></div>').insertAfter(U));b.currentUserRoles&&(id=b.currentUserRoles.split(","));b.downloadVideoUserRoles&&(Fh=b.downloadVideoUserRoles.split(","));id&&Fh&&(eh=!MVPUtils.arrayContainsAnotherArray(Fh,id));b.viewVideoWithoutAdsUserRoles&&(Gh=b.viewVideoWithoutAdsUserRoles.split(","));b.viewVideoWithoutAdsForLoggedInUser&&b.isUserLoggedIn&&
(Hh=!1);id&&Gh&&(Hh=!MVPUtils.arrayContainsAnotherArray(Gh,id));b.playlistContent&&(H=f(b.playlistContent));window.playlistScrollLoading=!1;"undefined"===typeof window.mvp_mediaArr&&(window.mvp_mediaArr=[]);mvp_mediaArr.push({inst:q,id:b.instanceName});0==H.length&&(H=f('<div style="display:none;"></div>'),S="no-playlist",jb=!1,eb="");"outer"!=b.playlistPosition&&"wall"!=b.playlistPosition||0!=n.find(".mvp-load-more-btn").length||X.append('<div class="mvp-load-more-btn">LOAD MORE</div>');var Qa=n.find(".mvp-load-more-btn").on("click",
function(){if(!z||Va)return!1;sb?q.loadMore():gc&&th();Qa.css("opacity",0)});if(hj)if("undefined"===typeof f.fn.swipe){var Ba=document.createElement("script");Ba.type="text/javascript";var mk=MVPUtils.relativePath(b.jquery_touchSwipe)?b.jquery_touchSwipe:MVPUtils.qualifyURL(b.sourcePath+b.jquery_touchSwipe);Ba.src=mk;Ba.onload=Ba.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||m()};Ba.onerror=function(){alert("Error loading "+this.src)};var Gc=document.getElementsByTagName("script")[0];
Gc.parentNode.insertBefore(Ba,Gc)}else m();if("lightbox"==b.playerType){ck.on("click",function(){q.closeLightbox()});if(b.clickOnBackgroundClosesLightbox)bk.on("click",function(a){a.target==this&&q.closeLightbox()});dk.on("click",function(a){a.stopImmediatePropagation();Se()});ek.on("click",function(a){a.stopImmediatePropagation();Xb()})}Id.on("click",function(a){f(q).trigger("mediaDownload",{instance:q,instanceName:b.instanceName,media:g});Je&&"undefined"!==typeof ga&&ga("send",{hitType:"event",
eventCategory:"Modern video player: "+b.instanceName,eventAction:"downloaded",eventLabel:"Video title: "+g.title,nonInteraction:!0});if(b.restrictDownloadForLoggedInUser&&!b.isUserLoggedIn||!eh)return td("download"),!1;b.useStatistics&&oh("mvp_download_count",Rb)});Je&&(window.ga||function(a,c,e,d,h,p,k){a.GoogleAnalyticsObject=h;a[h]=a[h]||function(){(a[h].q=a[h].q||[]).push(arguments)};a[h].l=1*new Date;p=c.createElement(e);k=c.getElementsByTagName(e)[0];p.async=1;p.src=d;k.parentNode.insertBefore(p,
k)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create",b.gaTrackingId,"auto"),ga("send","pageview"));b.theaterElement&&!MVPUtils.isEmpty(b.theaterElement)&&b.theaterElementClass&&!MVPUtils.isEmpty(b.theaterElementClass)||delete b.theaterElement;if(b.autoPlayInViewport||b.autoPlayAfterFirst)ra=!1;if(ra||b.autoPlayInViewport)if(P=0,b.autoPlayInViewport&&0!=Cb)Ra.on("mousedown.apmvp, keydown.apmvp",function(){Ra.off("mousedown.apmvp, keydown.apmvp");rb||(rb=!0,
!Wc&&u&&(u.volume=Cb,u.muted=!1))});ya&&b.displayPosterOnMobile&&(ra=!1,b.autoPlayInViewport=!1);jb||(b.playlistOpened=!1,X.remove());hk&&Fd.remove();jk?b.vrInfoImage&&(Jb=f('<img class="mvp-vr-info" src="'+b.vrInfoImage+'" alt="drag">').insertAfter(U)):(hc=!1,kk&&console.log("Turn Hardware Acceleration On Within Chrome Browser to enable 360 videos!"));"xr"in navigator&&navigator.xr.isSessionSupported("immersive-vr").then(function(a){Xg=a?!0:!1});"hb"==S&&"v"==Dd&&X.css({height:b.playlistBottomHeight});
ah&&(window.attachEvent||window.addEventListener)(kj?"pagehide":"beforeunload",function(a){window.event&&(window.event.cancelBubble=!0);if(!z||!l)return!1;a={activePlaylist:wd,volume:P,activeItem:Rb,playbackPositionTime:parseInt(q.getCurrentTime(),10)};localStorage.setItem(Re,JSON.stringify(a))});$a.find(".mvp-upnext-close").on("click",function(){$a.removeClass("mvp-upnext-on mvp-upnext-visible");Vf=!0});Wf.on("click",function(){$a.removeClass("mvp-upnext-on mvp-upnext-visible");Xb()});ch.on("click",
function(){$a.removeClass("mvp-upnext-on mvp-upnext-visible");Xb()});Ec.on("click",function(){if(!z||!K||!Ke)return!1;K&&f(q).trigger("adSkip",{instance:q,instanceName:b.instanceName,media:g});Ac()});wb.on("click",".mvp-annotation-close",function(){if(b.showAnnotationsOnlyOnce){var a=f(this).closest(".mvp-annotation"),c=a.attr("data-id"),e=Dc.length;a.remove();for(a=0;a<e;a++)if(c==Dc[a].id){Dc.splice(a,1);break}}else f(this).closest(".mvp-annotation").hide()});fk.on("click",function(){Xb()});gk.on("click",
function(){Pc();Vi()});if("ontouchstart"in window){var ug="touchstart.ap mousedown.ap";var Kb="touchmove.ap mousemove.ap";var kd="touchend.ap mouseup.ap"}else window.PointerEvent?(ug="pointerdown.ap",Kb="pointermove.ap",kd="pointerup.ap"):(ug="mousedown.ap",Kb="mousemove.ap",kd="mouseup.ap");U.on("click",function(a){if(!z||b.displayPosterOnMobile)return!1;if("image"==l){if(K&&g.link)if(g.target&&"_blank"==g.target)window.open(g.link);else{a=g.link;mg();window.location=a;return}return!1}if(g.is360)return!1;
fb?R?K&&q.togglePlayback():q.togglePlayback():q.togglePlayback()});n.find(".mvp-search-field").length&&n.addClass("mvp-has-search-bar");var nh;(b.searchSelector?f(b.searchSelector):n.find(".mvp-search-field")).on("keyup",function(){if(0==T)return!1;var a=f(this).val().toLowerCase(),c,e=0;for(c=0;c<T;c++){var d=H.children(".mvp-playlist-item").eq(c);var h=d.find(".mvp-playlist-title").length?d.find(".mvp-playlist-title").html().toLowerCase():"";b.searchDescriptionInPlaylist&&d.find(".mvp-playlist-description").length&&
(h+=d.find(".mvp-playlist-description").html().toLowerCase());-1<h.indexOf(a)?H.children(".mvp-playlist-item").eq(c).removeClass("mvp-filter-hidden").fadeIn("slow"):(H.children(".mvp-playlist-item").eq(c).addClass("mvp-filter-hidden").fadeOut("slow"),e++)}e==T?(ij.show(),nh=!1,Qa&&Qa.addClass("mvp-force-hide")):(ij.hide(),nh=!0,Qa&&Qa.removeClass("mvp-force-hide"))});var qa="normal",yg;Ra.on("fullscreenchange.mvp mozfullscreenchange.mvp MSFullscreenChange.mvp webkitfullscreenchange.mvp",function(a){yg==
b.instanceName&&("fullscreen"==qa?F():y())});var nc=n.find(".mvp-fullscreen-toggle").on("click",function(){C()});nc.find(".mvp-btn-normal").hide();nc.find(".mvp-btn-fullscreen").show();if("disabled"==b.rightClickContextMenu)n.on("contextmenu",function(){return!1});else if("custom"==b.rightClickContextMenu){var Sd=function(){tg.off("click.apcc",Sd);Wb.hide()};var Wb=n.find(".mvp-context-menu").on("contextmenu",function(a){return!1});Wb.find(".mvp-context-copy-video-url").on("click",function(a){a=window.location.href+
q.getCurrentMediaUrl();var c=document.createElement("input");c.setAttribute("id","mvp-copy-url");document.body.appendChild(c);document.getElementById("mvp-copy-url").value=a;c.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(c)});var Ue=Wb.find(".mvp-context-fullscreen").on("click",function(a){C()});O.on("contextmenu",function(a){if(b.displayPosterOnMobile)return!1;if(f(a.target).hasClass("mvp-player-title")||f(a.target).hasClass("mvp-player-desc"))return!0;if(f(a.target).hasClass("mvp-volume-level")||
f(a.target).hasClass("mvp-volume-level")||f(a.target).hasClass("mvp-volume-bg")||f(a.target).hasClass("mvp-progress-level")||f(a.target).hasClass("mvp-progress-bg")||f(a.target).hasClass("mvp-load-level")||Qb.hasClass("mvp-holder-visible-top")||K)return!1;a.preventDefault();a.stopPropagation();var c=O[0].getBoundingClientRect(),e=Wb.outerWidth(!0),d=Wb.outerHeight(!0),h=parseInt(a.pageX-Sa.scrollLeft()-c.left,10);a=parseInt(a.pageY-Sa.scrollTop()-c.top,10);h>O.width()-e&&(h-=e);a>O.height()-d&&(a-=
d);Wb.css({left:h+"px",top:a+"px"}).show();tg.one("click.apcc",Sd)}).on("mouseleave",Sd);tg.on("mouseleave.mvp",Sd);Ra.on("contextmenu.mvp",Sd).keyup(function(a){27==a.keyCode&&Sd()})}var ba=n.find(".mvp-tooltip");if(!ya)n.on("mouseenter","[data-tooltip]",function(a){a=f(this);var c=a.attr("data-tooltip");if(MVPUtils.isEmpty(c))return!1;var e=ja.hasClass(b.minimizeClass)?ja:Zb?ja:n,d=e[0].getBoundingClientRect(),h=a[0].getBoundingClientRect();ba.text(c);if(void 0!=a.attr("data-tooltip-position"))if("left"==
a.attr("data-tooltip-position"))var p=parseInt(h.top-d.top-ba.outerHeight()/2+a.outerHeight()/2),k=parseInt(h.left-d.left-ba.outerWidth()-3);else"bottom"==a.attr("data-tooltip-position")&&(p=parseInt(h.top-d.top+a.outerHeight()),k=parseInt(h.left-d.left-ba.outerWidth()/2+a.outerWidth()/2));else p=parseInt(h.top-d.top-ba.outerHeight()),k=parseInt(h.left-d.left-ba.outerWidth()/2+a.outerWidth()/2);0>k?k=0:k+ba.outerWidth()>e.width()&&(k=e.width()-ba.outerWidth());0>p+d.top&&(p=parseInt(h.top-d.top+ba.outerHeight()+
15));ba.css({left:k+"px",top:p+"px"}).show()}).on("mouseleave","[data-tooltip]",function(a){ba.hide()});var Ve,Ma;pb.on(ug,function(a){if(z){if(b.disableSeekbar||b.disableVideoSkip||b.seekToChapterStart&&Na.length||K)return!1;J(a);return!1}});if(!ya){var vg=function(){if(R||g||g.duration)pb.off(Kb,ha).off("mouseout",vg),Ra.off("mouseout.mvp",vg),g.previewSeek&&(zb.hide(),qc&&Uh()),ba.hide(),Jc=null};pb.on("mouseover",function(){if(R||g||g.duration)pb.on(Kb,ha).on("mouseout",vg),Ra.on("mouseout.mvp",
vg)})}var Kc=cb.hasClass("mvp-volume-horizontal");Kc?cb.width():cb.height();var md=Kc?ld.width():ld.height(),We;0>P?P=0:1<P&&(P=1);if(!ik||ya)cb.remove(),nd.on("click",function(a){ab()});else nd.on("click",function(a){ya&&0!=cb.length&&!cb.hasClass("mvp-force-hide")||ab()});cb.on(ug,function(a){G(a);return!1});if(!ya){var wg=function(){cb.off(Kb,da).off("mouseout",wg);Ra.off("mouseout.mvp",wg);ba.hide()};cb.on("mouseover",function(){cb.on(Kb,da).on("mouseout",wg);Ra.on("mouseout.mvp",wg)})}if(b.useShare)if("undefined"===
typeof MVPShareManager)Ba=document.createElement("script"),Ba.type="text/javascript",Ba.src=MVPUtils.qualifyURL(b.sourcePath+b.share_js),Ba.onload=Ba.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(Ig=new MVPShareManager(b))},Ba.onerror=function(){alert("Error loading "+this.src)},Gc=document.getElementsByTagName("script")[0],Gc.parentNode.insertBefore(Ba,Gc);else var Ig=new MVPShareManager(b);var Yf=n.find(".mvp-settings-wrap"),W=n.find(".mvp-settings-holder");n.find(".mvp-settings-holder-inner");
var Lc=n.find(".mvp-settings-home");rc.on("click",function(){W.hasClass("mvp-holder-visible")?W.one("transitionend",function(){W.css({display:"none",width:"auto",height:"auto"});W.find(".mvp-settings-menu").css("display","none");Lc.css("display","block");W.css("maxHeight","none").removeClass("mvp-settings-holder-scrollable")}).removeClass("mvp-holder-visible"):(W.css("display","block"),setTimeout(function(){W.addClass("mvp-holder-visible")},20),Bb&&Wd(!1))});Lc.find(".mvp-menu-item").on("click",function(){var a=
f(this).attr("data-target"),c=W.width(),e=W.height();Lc.css("display","none");W.find(".mvp-settings-menu").css("display","none");W.css("maxHeight","none").removeClass("mvp-settings-holder-scrollable");W.css({width:"auto",height:"auto"});a=W.find("."+a).css("display","block");var d=a.width(),h=a.height();h>O.height()-60&&W.css("maxHeight",O.height()-60).addClass("mvp-settings-holder-scrollable");W.css({width:c+"px",height:e+"px"});setTimeout(function(){W.css({width:d+"px",height:h+"px"})},20)});W.find(".mvp-menu-header").on("click",
function(){xa()});Mh.find(".mvp-menu-item").on("click",function(){if(f(this).hasClass("mvp-menu-active"))return b.closeSettingsMenuOnSelect?rc.click():xa(),!1;var a=f(this).attr("data-value");g.playbackRate=a;Fa(a);R&&q.setPlaybackRate(a);b.closeSettingsMenuOnSelect?rc.click():xa()});this.toggleSubtitle=function(){if(!z||!l)return!1;if(g&&g.subtitles&&b.rememeberCaptionState&&Ud&&localStorage.getItem(Mc)){var a=JSON.parse(localStorage.getItem(Mc));(a=a.active?b.subtitleOffText:a.value)&&q.setSubtitle(a)}};
this.setSubtitle=function(a){if(!z||!l)return!1;Da.empty();jg.show();if(a==b.subtitleOffText||""==a)""==a&&(a=b.subtitleOffText),pd=!1,pa=null,Vb&&Vb.removeClass("mvp-menu-active"),Vb=Vd.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active"),Nc.addClass("mvp-btn-disabled");else{if(af[a])pd=!0,pa=null,Vb&&Vb.removeClass("mvp-menu-active"),Vb=Vd.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active"),Ab=af[a],Mb=null,pc(!0);else{var c,e=g.subtitles.length;for(c=0;c<e;c++){var d=
g.subtitles[c];if(d.label==a){pd=!1;pa=null;Vb&&Vb.removeClass("mvp-menu-active");Vb=Vd.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active");"hls"==la?rj(d):"dash"!=la&&Rh(d);break}}}Nc.removeClass("mvp-btn-disabled")}e=g.subtitles.length;for(c=0;c<e;c++)d=g.subtitles[c],delete d["default"],d.value==a&&(d["default"]=!0);W.find(".mvp-subtitle-menu-value").text(a);b.rememeberCaptionState&&Ud&&(c=localStorage.getItem(Mc)?JSON.parse(localStorage.getItem(Mc)):{},a==b.subtitleOffText?
c.active=!1:(c.active=!0,c.value=a),localStorage.setItem(Mc,JSON.stringify(c)))};b.useKeyboardNavigationForPlayback&&b.keyboardControls.length&&(Array.isArray(b.keyboardControls)||(b.keyboardControls=b.keyboardControls.split(";")),n.hover(function(){Ra.on("keydown",function(a){if(!z)return!1;var c=a.keyCode,e=f(a.target);if(e.hasClass("mvp-search-field")||e.hasClass("mvp-pwd-field"))return!0;if(b.modifierKey){var d=b.keyboardControls.length;for(e=0;e<d;e++){var h=b.keyboardControls[e];if(a[b.modifierKey]&&
c==h.keycode){if("seekBackward"==h.action)q.seekBackward(b.seekTime);else if("seekForward"==h.action)q.seekForward(b.seekTime);else if("togglePlayback"==h.action)q.togglePlayback();else if("volumeUp"==h.action)b.volume+=.1,1<b.volume&&(b.volume=1),q.setVolume(b.volume);else if("volumeDown"==h.action)b.volume-=.1,0>b.volume&&(b.volume=0),q.setVolume(b.volume);else if("toggleMute"==h.action)q.toggleMute();else if("nextMedia"==h.action)q.nextMedia();else if("previousMedia"==h.action)q.previousMedia();
else if("rewind"==h.action)q.seek(0);else if("toggleFullscreen"==h.action)C();else if("toggleTheater"==h.action){if("fullscreen"==qa)break;oc.click()}else"toggleSubtitle"==h.action?q.toggleSubtitle():"subtitleSizeUp"==h.action?pa&&(a=parseInt(Da.css("fontSize"),10)+1,Da.css("fontSize",a+"px")):"subtitleSizeDown"==h.action&&pa&&(a=parseInt(Da.css("fontSize"),10)-1,10>a&&(a=10),Da.css("fontSize",a+"px"));break}}}else for(d=b.keyboardControls.length,e=0;e<d;e++)if(h=b.keyboardControls[e],c==h.keycode){if("seekBackward"==
h.action)q.seekBackward(b.seekTime);else if("seekForward"==h.action)q.seekForward(b.seekTime);else if("togglePlayback"==h.action)q.togglePlayback();else if("volumeUp"==h.action)b.volume+=.1,1<b.volume&&(b.volume=1),q.setVolume(b.volume);else if("volumeDown"==h.action)b.volume-=.1,0>b.volume&&(b.volume=0),q.setVolume(b.volume);else if("toggleMute"==h.action)q.toggleMute();else if("nextMedia"==h.action)q.nextMedia();else if("previousMedia"==h.action)q.previousMedia();else if("rewind"==h.action)q.seek(0);
else if("toggleFullscreen"==h.action)C();else if("toggleTheater"==h.action){if("fullscreen"==qa)break;oc.click()}else if("toggleSubtitle"==h.action)q.toggleSubtitle();else if("subtitleSizeUp"==h.action)pa&&(a=parseInt(Da.css("fontSize"),10)+1,Da.css("fontSize",a+"px"));else if("subtitleSizeDown"==h.action)pa&&(a=parseInt(Da.css("fontSize"),10)-1,10>a&&(a=10),Da.css("fontSize",a+"px"));else return!0;break}return!1})},function(){Ra.off("keydown")}));var lj=[xb,Ic,ca,ze,Hd,sh,zh,Ah,Ne,Oe,Ce,Ae,Be,Fd,
oc,Nc,fg,Zd,n.find(".mvp-chapter-menu-close"),n.find(".mvp-pwd-confirm"),n.find(".mvp-info-close"),n.find(".mvp-share-item"),n.find(".mvp-share-close"),n.find(".mvp-redirect-login-cancel"),n.find(".mvp-minimize-close"),n.find(".mvp-resume-continue"),n.find(".mvp-resume-restart")];wh=lj.length;for(Aa=0;Aa<wh;Aa++)f(lj[Aa]).css("cursor","pointer").on("click",vj);!ya&&b.showPrevNextVideoThumb?(Ne.on("mouseenter",function(){sg.html(sg.attr("data-next-title"));Yh(Ne,1)}).on("mouseleave",function(){Ia.removeClass("mvp-upnext-wrap2-visible")}),
Oe.on("mouseenter",function(){sg.html(sg.attr("data-prev-title"));Yh(Oe,-1)}).on("mouseleave",function(){Ia.removeClass("mvp-upnext-wrap2-visible")})):Ia.remove();var Ef,N=new MVPPlaylistManager(b);f(N).on("MVPPlaylistManager.COUNTER_READY",function(a,c){Md=null;Vf=bh=fc=!1;Yb=0;Dh=!1;Ed=null;Ha=0;yb=[];qb=[];ng=null;kc=[];Rd=null;bb.find(".mvp-ad-indicator").remove();le=!1;bb.find(".mvp-chapter-indicator").remove();Na=[];qd=Yd=!1;cf=bf=null;pb.removeClass("mvp-seekbar-chapters");Eh=!1;Ld=ad=null;
Nb.removeClass("mvp-progress-sizing");l&&Kd();Rb=c;g=sa[Rb].data;zj();ud=!0;id&&g.lockVideoUserRoles&&(ud=MVPUtils.arrayContainsAnotherArray(g.lockVideoUserRoles,id));Eh||(Eh=!0,g.annotationSection&&(ad=g.annotationSection,0==ad instanceof f&&(ad=f(ad))));if(Hh&&!Dh)if(Dh=!0,g.adPre||g.adMid||g.adEnd){Md=g;if(g.adMid){var e=g.adMid.length;for(Aa=0;Aa<e;Aa++){var d=g.adMid[Aa];qb.push({begin:d.begin,data:d,type:d.type})}}if(g.adEnd){e=g.adEnd.length;for(Aa=0;Aa<e;Aa++)d=g.adEnd[Aa],kc.push({data:d,
type:d.type});Ha=-1}if(g.adPre){e=g.adPre.length;for(Aa=0;Aa<e;Aa++)d=g.adPre[Aa],yb.push({data:d,type:d.type});Ha=0;g=yb[Ha].data;K=!0}}else g.adSection&&(Rd=g.adSection,0==Rd instanceof f&&(Rd=f(Rd)),Md=g,Rd.find(".mvp-ad").each(function(){var h=f(this);if(h.hasClass("mvp-ad-pre"))yb.push(h);else if(h.hasClass("mvp-ad-mid")){var p=parseInt(h.attr("data-begin"),10);qb.push({begin:p,data:h})}else h.hasClass("mvp-ad-end")&&kc.push(h)}),yb.length?(Ha=0,g=og(yb[Ha]),K=!0):kc.length&&(Ha=-1));f(q).trigger("mediaRequest",
{instance:q,instanceName:b.instanceName,media:g});ie()}).on("MVPPlaylistManager.RANDOM_CHANGE",function(a,c){c?Ah.addClass("mvp-contr-btn-hover"):Ah.removeClass("mvp-contr-btn-hover")}).on("MVPPlaylistManager.LOOP_CHANGE",function(a,c){c?zh.addClass("mvp-contr-btn-hover"):zh.removeClass("mvp-contr-btn-hover")});window.onYouTubeIframeAPIReady=function(){};q.toggleRel=function(){Ge?(ed.addClass("mvp-holder-visible-top"),setTimeout(function(){ed.css("display","none").removeClass("mvp-holder-visible-top");
Ge=!1},500)):(ed.addClass("mvp-holder-visible-top").css("display","block"),setTimeout(function(){ed.removeClass("mvp-holder-visible-top");Ge=!0;fd.build()},20))};window.onbeforeunload=function(a){g&&Pc()};b.addResizeEvent&&(Sa.on("resize",function(){if(!z)return!1;Ch&&clearTimeout(Ch);Ch=setTimeout(Ga,250)}),window.addEventListener("orientationchange",Yj));this.playMedia=function(){if(!z||!l||na)return!1;if("audio"==l){if(x){var a=x.play();void 0!==a&&a.then(function(){})["catch"](function(c){ca.show();
L.hide()})}}else"video"==l?V&&!R?(b.showPosterOnPause?Y.hide():(Y.hide().empty(),V=null),ca.hide(),oa()):u&&(a=u.play(),void 0!==a&&a.then(function(){})["catch"](function(c){ca.show();L.hide()})):"youtube"==l?V&&!R?(b.showPosterOnPause?Y.hide():(Y.hide().empty(),V=null),oa()):E.playVideo():"vimeo"==l&&(V&&!R?(b.showPosterOnPause?Y.hide():(Y.hide().empty(),V=null),oa()):B.play());na=!0};this.pauseMedia=function(){if(!z||!l||!na)return!1;"audio"==l?x&&x.pause():"video"==l?u&&u.pause():"youtube"==l?
E.pauseVideo():"vimeo"==l&&B.pause();na=!1};this.togglePlayback=function(){if(!z||!l)return!1;if(!b.displayPosterOnMobile||!g.poster){Sa.off(Gf);if(g.pwd)return Qb.addClass("mvp-holder-visible-top").css("display","block"),setTimeout(function(){Qb.removeClass("mvp-holder-visible-top")},20),!1;if("audio"==l)if((V||g.slideshowImages)&&!R)0!=Cb&&(P=Cb),ca.hide(),L.show(),oa();else{if(x)if(x.paused){var a=x.play();void 0!==a&&a.then(function(){})["catch"](function(c){ca.show();L.hide()})}else x.pause()}else"video"==
l?V&&!R?(b.showPosterOnPause?Y.hide():(Y.hide().empty(),V=null),ca.hide(),L.show(),oa()):u&&(u.paused?(a=u.play(),void 0!==a&&a.then(function(){})["catch"](function(c){ca.show();L.hide()})):u.pause()):"youtube"==l?V&&!R?(b.showPosterOnPause?Y.hide():(Y.hide().empty(),V=null),ca.hide(),oa()):E&&(a=E.getPlayerState(),1==a?E.pauseVideo():2==a?E.playVideo():(-1==a||5==a||0==a)&&E.playVideo()):"vimeo"==l?V&&!R?(b.showPosterOnPause?Y.hide():(Y.hide().empty(),V=null),ca.hide(),oa()):B&&B.getPaused().then(function(c){c?
B.play():B.pause()}):"custom"!=l&&"custom_html"!=l||!V||R||(b.showPosterOnPause?Y.hide():(Y.hide().empty(),V=null),ca.hide(),oa())}};this.nextMedia=function(){if(!z)return!1;Xb()};this.previousMedia=function(){if(!z)return!1;Se()};this.setVolume=function(a){if(!z)return!1;0>a?a=0:1<a&&(a=1);ta(a)};this.toggleMute=function(){if(!z)return!1;ab()};this.seek=function(a){if(!z||!l)return!1;"audio"==l?x&&(x.currentTime=a):"video"==l?u&&(u.currentTime=a):"youtube"==l?E&&E.seekTo(a):"vimeo"==l&&B&&B.setCurrentTime(a)};
this.seekBackward=function(a){if(!z||!l)return!1;if("audio"==l){if(x)try{x.currentTime=Math.max(x.currentTime-(a||b.seekTime),0)}catch(e){console.log(e)}}else if("video"==l){if(u)try{u.currentTime=Math.max(u.currentTime-(a||b.seekTime),0)}catch(e){console.log(e)}}else if("youtube"==l){var c=Math.max(E.getCurrentTime()-(a||b.seekTime),0);E.seekTo(c)}else"vimeo"==l&&B.getCurrentTime().then(function(e){B.setCurrentTime(Math.max(e-(a||b.seekTime),0))})};this.seekForward=function(a){if(!z||!l)return!1;
if("audio"==l){if(x)try{x.currentTime=Math.min(x.currentTime+(a||b.seekTime),x.duration)}catch(e){console.log(e)}}else if("video"==l){if(u)try{u.currentTime=Math.min(u.currentTime+(a||b.seekTime),u.duration)}catch(e){console.log(e)}}else if("youtube"==l){var c=Math.min(E.getCurrentTime()+(a||b.seekTime),E.getDuration());E.seekTo(c)}else"vimeo"==l&&(0!=Lb&&0!=dd?(c=Math.min(dd+(a||b.seekTime),Lb),B.setCurrentTime(c)):B.getCurrentTime().then(function(e){B.getDuration().then(function(d){B.setCurrentTime(Math.min(e+
(a||b.seekTime),d))})}))};this.getCurrentMediaData=function(){return z?l?g:null:!1};this.getCurrentMediaUrl=function(){if(!z)return!1;if(!l)return"";var a=-1==window.location.href.indexOf("?")?"?":"&";var c="mvp-query-instance="+encodeURIComponent(b.instanceName),e=void 0!=g.mediaId?"&mvp-media-id="+g.mediaId:"&mvp-active-item="+Rb,d=R&&"image"!=l?"&mvp-playback-position-time="+Math.floor(q.getCurrentTime()):"";a=a+c+"&mvp-scroll-to-player=1"+e+d;void 0!=g.mediaId&&-1==lk.indexOf(g.origtype)&&g.title&&
(c="&mvp-media-title="+encodeURIComponent(g.title),a+=c);return a};this.getCurrentTime=function(){if(!z||!l)return!1;if(!R)return"0";if("audio"==l)return x.currentTime;if("video"==l)return u.currentTime;if("youtube"==l)return E?E.getCurrentTime():"0";if("vimeo"==l)return dd};this.getDuration=function(){if(!z||!l)return!1;if("audio"==l)return x.duration;if("video"==l)return u.duration;if("youtube"==l)return E.getDuration();if("vimeo"==l)return Lb};this.getLoadProgress=function(){if(!z||!l)return!1;
var a;if("audio"==l){if("undefined"!==typeof x.buffered&&0!=x.buffered.length){try{var c=x.buffered.end(x.buffered.length-1)}catch(e){}isNaN(c)||(a=c/Math.floor(x.duration))}}else if("video"==l){if("undefined"!==typeof u.buffered&&0!=u.buffered.length){try{c=u.buffered.end(u.buffered.length-1)}catch(e){}isNaN(c)||(a=c/Math.floor(u.duration))}}else"youtube"==l?a=E.getVideoLoadedFraction():"vimeo"==l&&(a=De);return a};this.togglePlaylist=function(a){if(!z)return!1;Vh(a)};this.toggleRandom=function(a){if(!z||
"undefined"===typeof N)return!1;N.setRandom(a)};this.toggleLoop=function(a){if(!z||"undefined"===typeof N)return!1;N.setLooping(a)};this.setPlaybackRate=function(a){if(!z||!l)return!1;g.playbackRate=a;R&&("audio"==l?x&&(x.playbackRate=a):"video"==l?u&&(u.playbackRate=a):"youtube"==l?E.setPlaybackRate(Number(a)):"vimeo"==l&&B.setPlaybackRate(a).then(function(c){})["catch"](function(c){console.log(c.name)}))};this.setPlaybackQuality=function(a){if(!z||!l)return!1;if(R&&("audio"==l||"video"==l))if("hls"==
la)a=parseInt(a,10),g.quality?Q.currentLevel=a:(Q.currentLevel=a,Q.nextLevel=a,Q.loadLevel=a);else if("dash"==la)a=parseInt(a,10),wa.setQualityFor("video",a);else{g.quality=a;lc(a);Ug=!0;Hb=!1;fa&&(cancelAnimationFrame(fa),fa=null);mb&&(ia&&ia.setAnimationLoop(null),mb=!1);ma&&(clearInterval(ma),ma=null);aa=null;if("audio"==l)x&&(aa=x.currentTime,x.pause(),x.src=""),Tb&&Tb.off("ended pause play canplay ratechange loadedmetadata error"),Xc&&tb&&tb.clean();else if("video"==l){hc&&g.is360&&("monoscopic"==
g.vrMode?Fb&&Fb.hide():Gb&&Gb.hide());if(u){aa=u.currentTime;u.pause();try{u.currentTime=0}catch(c){}u.src="";u=null}Za&&Za.off("ended loadedmetadata canplay canplaythrough ratechange waiting playing play pause error seeked")}ca.hide();R=na=!1;Bg();oa()}};this.toggleInfo=function(a){if(!z||!l)return!1;Eg(a)};this.toggleShare=function(a){if(!z||!l)return!1;Fg(a)};this.toggleFullscreen=function(){if(!z)return!1;C()};this.openLightbox=function(a){if(!z||Zb)return!1;Ka.css("display","block");setTimeout(function(){clearTimeout(this);
Ka.css("opacity",1)},50);"undefined"!==typeof a?(a=H.find(".mvp-playlist-item[data-media-id="+a+"]"),0!=a.length?(a=a.attr("data-id"),N.processPlaylistRequest(a)):N.processPlaylistRequest(N.getCounter())):N.processPlaylistRequest(N.getCounter())};this.closeLightbox=function(){if(!z)return!1;Ka.one("transitionend",function(){Ka.css("display","none");Zb=!1;ff()}).css("opacity",0);b.displayWatchedPercentage&&g&&"image"!=l&&R&&Yi();l&&Kd()};this.destroyMedia=function(){if(!z)return!1;mg()};this.destroyPlaylist=
function(){if(!z)return!1;jf()};this.destroyInstance=function(){jf();N&&(f(N).off(),N=null);gb&&(f(gb).off(),gb=null);Wa&&(f(Wa).off(),Wa=null);tb&&(Wa=null);Q&&(Q.off(),Q.destroy(),Q=null);wa&&(wa.off(),dashjs.MediaPlayer().reset(),wa=null);Ra.off(".mvp");tg.off(".mvp")};this.loadPlaylist=function(a,c){if(!z||Oa)return!1;if("string"===typeof a){b.mediaId=c;if(wd==a)return!1;bi(a)}else return alert("Invalid value loadPlaylist!"),!1};this.setAutoPlay=function(a){ra=a};this.inputMedia=function(a){if(!z||
Oa)return!1;Ta&&ff();0<T&&N.reSetCounter();g=a;l=a.type;T&&0!=T||(b.mediaEndAction="loop");ie()};this.loadMedia=function(a,c,e){if(!z||Oa||!Rc)return!1;var d=-1;if("title"==a){for(a=0;a<T;a++)if(c==sa[a].data.title){d=a;var h=!0;break}if(!h)return alert('No media with title "'+c+'" to load! LoadMedia failed.'),!1}else if("counter"==a){if(0>c||c>T-1)return alert('Invalid track number. Track number  "'+c+'" doesnt exist. LoadMedia failed.'),!1;d=c}else if("id"==a){d=H.find(".mvp-playlist-item[data-media-id="+
c+"]");if(0==d.length)return alert("No media with media ID "+c+" to load! LoadMedia failed."),!1;d=d.attr("data-id")}else if("id-title"==a){d=H.find('.mvp-playlist-item[data-media-id="'+c+'"][title="'+e+'"]');if(0==d.length)return alert("No media with media ID "+c+" to load! LoadMedia failed."),!1;d=d.attr("data-id")}else return console.log("loadMedia function requires format parameter!"),!1;Pc();N.processPlaylistRequest(d)};this.addTrack=function(a,c,e,d){if(!z||Oa)return!1;wf=!1;"undefined"!==typeof e&&
(wf=e);e=1;var h=!1;if("string"!==typeof c&&"[object Object]"!==Object.prototype.toString.call(c))if("[object Array]"===Object.prototype.toString.call(c))e=c.length,h=!0;else return alert("addTrack method requires track as string, object or array parameter. AddTrack failed."),!1;Db=d;zd=!1;Tc=!0;Rc?"undefined"!==typeof Db?0>Db?Db=0:(Db=T,zd=!0):(zd=!0,Db=T):(Db=0,zd=!0);Oa=!0;L.show();xd=-1;ua=[];Pa=[];for(d=0;d<e;d++){var p=h?c[d]:c;p="html"==a?fe(f(p)):p;Pa.push(p)}T=Pa.length;Rc=H;ge=!1;za()};
this.removeTrack=function(a,c){if(!z||Oa)return!1;if(0!=T){if("title"==a){var e;for(e=0;e<T;e++)if(c==sa[e].data.title){var d=H.children(".mvp-playlist-item").eq(e);var h=!0;break}if(!h)return alert('Track with title "'+c+'" doesnt exist. RemoveTrack failed.'),!1}else if("counter"==a){c=parseInt(c,10);if(0>c||c>T-1)return alert('Track number  "'+c+'" doesnt exist. RemoveTrack failed.'),!1;d=H.find(".mvp-playlist-item").eq(c)}else if("id"==a){if(d=H.find(".mvp-playlist-item[data-media-id="+c+"]"),
0==d.length)return alert('Track with media id "'+c+'" doesnt exist. RemoveTrack failed.'),!1}else return alert("removeTrack method failed."),!1;d.remove();sa.splice(parseInt(d.attr("data-id"),10),1);ei();0<T?(d=N.getCounter(),c==d?(Kd(),N.setPlaylistItems(T)):(N.setPlaylistItems(T,!1),c<d&&N.reSetCounter(N.getCounter()-1))):jf();Vc&&ki()}};this.totalScrollAction=function(){sb?hb&&ec&&(Oa||q.loadMore()):gc&&(Va||th())};this.loadMore=function(){if(!z||!ec||!hb||Oa)return!1;Oa=!0;L.show();Va=!0;ua=[];
if("youtube"==ec)if(gb)gb.resumeLoad(hb);else{yd("youtube");var a=setInterval(function(){gb&&(clearInterval(a),gb.resumeLoad(hb))},100)}else"vimeo"==ec&&(Wa?Wa.resumeLoad(hb):(yd("vimeo"),a=setInterval(function(){Wa&&(clearInterval(a),Wa.resumeLoad(hb))},100)))};this.setLoadMore=function(a){sb=a};this.endLoadMore=function(){Oa=!1;L.hide();Va=!1};this.addMore=function(){if(!z||Oa)return!1;gc&&(Va||th())};this.setAddMore=function(a){gc=a};this.getTitle=function(){return z&&g?g.title:!1};this.getMediaPlaying=
function(){return z?na:!1};this.getPlaylistLength=function(){return z?T:!1};this.getPlaylistData=function(){return z?sa:!1};this.getLastPlaylistData=function(){return z?Pg:!1};this.getMediaType=function(){return z?l:!1};this.getSetupDone=function(){return z};this.isPlaylistLoading=function(){return Oa};this.getSettings=function(){return b};this.getActiveItemId=function(){return z?"undefined"!==typeof N?N.getCounter():null:!1};this.adSkip=function(){if(!z||!K||!Ke)return!1;Ec&&Ec.trigger("click")};
this.resize=function(){if(!z)return!1;Ga()};if(Ud&&b.playbackPositionKey)if(!ah)localStorage.removeItem(Re);else if(localStorage.getItem(Re)){var xg=JSON.parse(localStorage.getItem(Re));xg.activePlaylist==b.activePlaylist&&(b.playbackPositionTime=xg.playbackPositionTime,P=xg.volume,b.activeItem=xg.activeItem);localStorage.removeItem(Re)}Vc?"undefined"===typeof MVPCacheManager&&(Ba=document.createElement("script"),Ba.type="text/javascript",Ba.src=MVPUtils.qualifyURL(b.sourcePath+b.cache_js),Ba.onload=
Ba.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(Nd=new MVPCacheManager("TeanCacheMVP"),f(Nd).on("MVPCacheManager.GET_DATA",function(a,c){if(c){var e=c.value;if(e.date+b.cacheTime>Math.floor(Date.now()/1E3))if(e.activePlaylist==b.activePlaylist){wd=b.activePlaylist;ge=!0;console.log("Playlist is loading from cache!");e.globalPlaylistData&&H.html(e.globalPlaylistData);var d=JSON.parse(e.playlist);ua=[];var h,p=d.length;for(h=0;h<p;h++)ua.push(d[h].data);e.loadMoreOnTotalScroll&&
(sb=e.loadMoreOnTotalScroll,hb=e.nextPageToken,uc=e.loadMoreItem,ec=e.loadMoreType)}else Nd.deleteData();else Nd.deleteData()}gj()}))},Ba.onerror=function(){alert("Error loading "+this.src)},Gc=document.getElementsByTagName("script")[0],Gc.parentNode.insertBefore(Ba,Gc)):gj();b.showControlsBeforeStart&&(xb.find(".mvp-btn-play").show(),ta());return this}})(jQuery);